{"ast":null,"code":"\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _typeof = require(\"@babel/runtime/helpers/typeof\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nvar _slicedToArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/slicedToArray\"));\n\nvar _react = _interopRequireWildcard(require(\"react\"));\n\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\n\nvar _reactIntl = require(\"react-intl\");\n\nvar _FocusTrap = require(\"@strapi/design-system/FocusTrap\");\n\nvar _Box = require(\"@strapi/design-system/Box\");\n\nvar _Button = require(\"@strapi/design-system/Button\");\n\nvar _IconButton = require(\"@strapi/design-system/IconButton\");\n\nvar _Select = require(\"@strapi/design-system/Select\");\n\nvar _Popover = require(\"@strapi/design-system/Popover\");\n\nvar _Flex = require(\"@strapi/design-system/Flex\");\n\nvar _Bold = _interopRequireDefault(require(\"@strapi/icons/Bold\"));\n\nvar _Italic = _interopRequireDefault(require(\"@strapi/icons/Italic\"));\n\nvar _Underline = _interopRequireDefault(require(\"@strapi/icons/Underline\"));\n\nvar _StrikeThrough = _interopRequireDefault(require(\"@strapi/icons/StrikeThrough\"));\n\nvar _BulletList = _interopRequireDefault(require(\"@strapi/icons/BulletList\"));\n\nvar _NumberList = _interopRequireDefault(require(\"@strapi/icons/NumberList\"));\n\nvar _Code = _interopRequireDefault(require(\"@strapi/icons/Code\"));\n\nvar _Picture = _interopRequireDefault(require(\"@strapi/icons/Picture\"));\n\nvar _Link = _interopRequireDefault(require(\"@strapi/icons/Link\"));\n\nvar _Quote = _interopRequireDefault(require(\"@strapi/icons/Quote\"));\n\nvar _More = _interopRequireDefault(require(\"@strapi/icons/More\"));\n\nvar _WysiwygStyles = require(\"./WysiwygStyles\");\n\nfunction _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== \"function\") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\n\nfunction _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== \"object\" && typeof obj !== \"function\") { return { \"default\": obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj[\"default\"] = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\nvar WysiwygNav = function WysiwygNav(_ref) {\n  var disabled = _ref.disabled,\n      editorRef = _ref.editorRef,\n      isExpandMode = _ref.isExpandMode,\n      isPreviewMode = _ref.isPreviewMode,\n      onActionClick = _ref.onActionClick,\n      onToggleMediaLib = _ref.onToggleMediaLib,\n      onTogglePreviewMode = _ref.onTogglePreviewMode;\n\n  var _useState = (0, _react.useState)(false),\n      _useState2 = (0, _slicedToArray2[\"default\"])(_useState, 2),\n      visiblePopover = _useState2[0],\n      setVisiblePopover = _useState2[1];\n\n  var _useIntl = (0, _reactIntl.useIntl)(),\n      formatMessage = _useIntl.formatMessage;\n\n  var selectPlaceholder = formatMessage({\n    id: 'components.Wysiwyg.selectOptions.title',\n    defaultMessage: 'Add a title'\n  });\n  var buttonMoreRef = (0, _react.useRef)();\n\n  var handleTogglePopover = function handleTogglePopover() {\n    setVisiblePopover(function (prev) {\n      return !prev;\n    });\n  };\n\n  if (disabled || isPreviewMode) {\n    return /*#__PURE__*/_react[\"default\"].createElement(_Box.Box, {\n      padding: 2,\n      background: \"neutral100\"\n    }, /*#__PURE__*/_react[\"default\"].createElement(_Flex.Flex, {\n      justifyContent: \"space-between\"\n    }, /*#__PURE__*/_react[\"default\"].createElement(_Flex.Flex, null, /*#__PURE__*/_react[\"default\"].createElement(_Select.Select, {\n      disabled: true,\n      id: \"selectTitle\",\n      placeholder: selectPlaceholder,\n      size: \"S\",\n      \"aria-label\": selectPlaceholder\n    }, /*#__PURE__*/_react[\"default\"].createElement(_Select.Option, {\n      value: \"h1\"\n    }, \"h1\"), /*#__PURE__*/_react[\"default\"].createElement(_Select.Option, {\n      value: \"h2\"\n    }, \"h2\"), /*#__PURE__*/_react[\"default\"].createElement(_Select.Option, {\n      value: \"h3\"\n    }, \"h3\"), /*#__PURE__*/_react[\"default\"].createElement(_Select.Option, {\n      value: \"h4\"\n    }, \"h4\"), /*#__PURE__*/_react[\"default\"].createElement(_Select.Option, {\n      value: \"h5\"\n    }, \"h5\"), /*#__PURE__*/_react[\"default\"].createElement(_Select.Option, {\n      value: \"h6\"\n    }, \"h6\")), /*#__PURE__*/_react[\"default\"].createElement(_WysiwygStyles.MainButtons, null, /*#__PURE__*/_react[\"default\"].createElement(_WysiwygStyles.CustomIconButton, {\n      disabled: true,\n      id: \"Bold\",\n      label: \"Bold\",\n      name: \"Bold\",\n      icon: /*#__PURE__*/_react[\"default\"].createElement(_Bold[\"default\"], null)\n    }), /*#__PURE__*/_react[\"default\"].createElement(_WysiwygStyles.CustomIconButton, {\n      disabled: true,\n      id: \"Italic\",\n      label: \"Italic\",\n      name: \"Italic\",\n      icon: /*#__PURE__*/_react[\"default\"].createElement(_Italic[\"default\"], null)\n    }), /*#__PURE__*/_react[\"default\"].createElement(_WysiwygStyles.CustomIconButton, {\n      disabled: true,\n      id: \"Underline\",\n      label: \"Underline\",\n      name: \"Underline\",\n      icon: /*#__PURE__*/_react[\"default\"].createElement(_Underline[\"default\"], null)\n    })), /*#__PURE__*/_react[\"default\"].createElement(_WysiwygStyles.MoreButton, {\n      disabled: true,\n      id: \"more\",\n      label: \"More\",\n      icon: /*#__PURE__*/_react[\"default\"].createElement(_More[\"default\"], null)\n    })), !isExpandMode && /*#__PURE__*/_react[\"default\"].createElement(_Button.Button, {\n      onClick: onTogglePreviewMode,\n      variant: \"tertiary\",\n      id: \"preview\"\n    }, formatMessage({\n      id: 'components.Wysiwyg.ToggleMode.markdown-mode',\n      defaultMessage: 'Markdown mode'\n    }))));\n  }\n\n  return /*#__PURE__*/_react[\"default\"].createElement(_Box.Box, {\n    padding: 2,\n    background: \"neutral100\"\n  }, /*#__PURE__*/_react[\"default\"].createElement(_Flex.Flex, {\n    justifyContent: \"space-between\"\n  }, /*#__PURE__*/_react[\"default\"].createElement(_Flex.Flex, null, /*#__PURE__*/_react[\"default\"].createElement(_Select.Select, {\n    id: \"selectTitle\",\n    placeholder: selectPlaceholder,\n    size: \"S\",\n    onChange: function onChange(value) {\n      return onActionClick(value, editorRef);\n    }\n  }, /*#__PURE__*/_react[\"default\"].createElement(_Select.Option, {\n    value: \"h1\"\n  }, \"h1\"), /*#__PURE__*/_react[\"default\"].createElement(_Select.Option, {\n    value: \"h2\"\n  }, \"h2\"), /*#__PURE__*/_react[\"default\"].createElement(_Select.Option, {\n    value: \"h3\"\n  }, \"h3\"), /*#__PURE__*/_react[\"default\"].createElement(_Select.Option, {\n    value: \"h4\"\n  }, \"h4\"), /*#__PURE__*/_react[\"default\"].createElement(_Select.Option, {\n    value: \"h5\"\n  }, \"h5\"), /*#__PURE__*/_react[\"default\"].createElement(_Select.Option, {\n    value: \"h6\"\n  }, \"h6\")), /*#__PURE__*/_react[\"default\"].createElement(_WysiwygStyles.MainButtons, null, /*#__PURE__*/_react[\"default\"].createElement(_WysiwygStyles.CustomIconButton, {\n    onClick: function onClick() {\n      return onActionClick('Bold', editorRef);\n    },\n    id: \"Bold\",\n    label: \"Bold\",\n    name: \"Bold\",\n    icon: /*#__PURE__*/_react[\"default\"].createElement(_Bold[\"default\"], null)\n  }), /*#__PURE__*/_react[\"default\"].createElement(_WysiwygStyles.CustomIconButton, {\n    onClick: function onClick() {\n      return onActionClick('Italic', editorRef);\n    },\n    id: \"Italic\",\n    label: \"Italic\",\n    name: \"Italic\",\n    icon: /*#__PURE__*/_react[\"default\"].createElement(_Italic[\"default\"], null)\n  }), /*#__PURE__*/_react[\"default\"].createElement(_WysiwygStyles.CustomIconButton, {\n    onClick: function onClick() {\n      return onActionClick('Underline', editorRef);\n    },\n    id: \"Underline\",\n    label: \"Underline\",\n    name: \"Underline\",\n    icon: /*#__PURE__*/_react[\"default\"].createElement(_Underline[\"default\"], null)\n  })), /*#__PURE__*/_react[\"default\"].createElement(_WysiwygStyles.MoreButton, {\n    ref: buttonMoreRef,\n    onClick: handleTogglePopover,\n    id: \"more\",\n    label: \"More\",\n    icon: /*#__PURE__*/_react[\"default\"].createElement(_More[\"default\"], null)\n  }), visiblePopover && /*#__PURE__*/_react[\"default\"].createElement(_Popover.Popover, {\n    centered: true,\n    source: buttonMoreRef,\n    spacing: 4,\n    id: \"popover\"\n  }, /*#__PURE__*/_react[\"default\"].createElement(_FocusTrap.FocusTrap, {\n    onEscape: handleTogglePopover,\n    restoreFocus: false\n  }, /*#__PURE__*/_react[\"default\"].createElement(_Flex.Flex, null, /*#__PURE__*/_react[\"default\"].createElement(_WysiwygStyles.IconButtonGroupMargin, null, /*#__PURE__*/_react[\"default\"].createElement(_WysiwygStyles.CustomIconButton, {\n    onClick: function onClick() {\n      return onActionClick('Strikethrough', editorRef, handleTogglePopover);\n    },\n    id: \"Strikethrough\",\n    label: \"Strikethrough\",\n    name: \"Strikethrough\",\n    icon: /*#__PURE__*/_react[\"default\"].createElement(_StrikeThrough[\"default\"], null)\n  }), /*#__PURE__*/_react[\"default\"].createElement(_WysiwygStyles.CustomIconButton, {\n    onClick: function onClick() {\n      return onActionClick('BulletList', editorRef, handleTogglePopover);\n    },\n    id: \"BulletList\",\n    label: \"BulletList\",\n    name: \"BulletList\",\n    icon: /*#__PURE__*/_react[\"default\"].createElement(_BulletList[\"default\"], null)\n  }), /*#__PURE__*/_react[\"default\"].createElement(_WysiwygStyles.CustomIconButton, {\n    onClick: function onClick() {\n      return onActionClick('NumberList', editorRef, handleTogglePopover);\n    },\n    id: \"NumberList\",\n    label: \"NumberList\",\n    name: \"NumberList\",\n    icon: /*#__PURE__*/_react[\"default\"].createElement(_NumberList[\"default\"], null)\n  })), /*#__PURE__*/_react[\"default\"].createElement(_IconButton.IconButtonGroup, null, /*#__PURE__*/_react[\"default\"].createElement(_WysiwygStyles.CustomIconButton, {\n    onClick: function onClick() {\n      return onActionClick('Code', editorRef, handleTogglePopover);\n    },\n    id: \"Code\",\n    label: \"Code\",\n    name: \"Code\",\n    icon: /*#__PURE__*/_react[\"default\"].createElement(_Code[\"default\"], null)\n  }), /*#__PURE__*/_react[\"default\"].createElement(_WysiwygStyles.CustomIconButton, {\n    onClick: function onClick() {\n      handleTogglePopover();\n      onToggleMediaLib();\n    },\n    id: \"Image\",\n    label: \"Image\",\n    name: \"Image\",\n    icon: /*#__PURE__*/_react[\"default\"].createElement(_Picture[\"default\"], null)\n  }), /*#__PURE__*/_react[\"default\"].createElement(_WysiwygStyles.CustomLinkIconButton, {\n    onClick: function onClick() {\n      return onActionClick('Link', editorRef, handleTogglePopover);\n    },\n    id: \"Link\",\n    label: \"Link\",\n    name: \"Link\" // eslint-disable-next-line jsx-a11y/anchor-is-valid\n    ,\n    icon: /*#__PURE__*/_react[\"default\"].createElement(_Link[\"default\"], null)\n  }), /*#__PURE__*/_react[\"default\"].createElement(_WysiwygStyles.CustomIconButton, {\n    onClick: function onClick() {\n      return onActionClick('Quote', editorRef, handleTogglePopover);\n    },\n    id: \"Quote\",\n    label: \"Quote\",\n    name: \"Quote\",\n    icon: /*#__PURE__*/_react[\"default\"].createElement(_Quote[\"default\"], null)\n  })))))), onTogglePreviewMode && /*#__PURE__*/_react[\"default\"].createElement(_Button.Button, {\n    onClick: onTogglePreviewMode,\n    variant: \"tertiary\",\n    id: \"preview\"\n  }, formatMessage({\n    id: 'components.Wysiwyg.ToggleMode.preview-mode',\n    defaultMessage: 'Preview mode'\n  }))));\n};\n\nWysiwygNav.defaultProps = {\n  isPreviewMode: false,\n  onActionClick: function onActionClick() {},\n  onToggleMediaLib: function onToggleMediaLib() {},\n  onTogglePreviewMode: undefined\n};\nWysiwygNav.propTypes = {\n  disabled: _propTypes[\"default\"].bool.isRequired,\n  editorRef: _propTypes[\"default\"].shape({\n    current: _propTypes[\"default\"].any\n  }).isRequired,\n  isExpandMode: _propTypes[\"default\"].bool.isRequired,\n  isPreviewMode: _propTypes[\"default\"].bool,\n  onActionClick: _propTypes[\"default\"].func,\n  onToggleMediaLib: _propTypes[\"default\"].func,\n  onTogglePreviewMode: _propTypes[\"default\"].func\n};\nvar _default = WysiwygNav;\nexports[\"default\"] = _default;","map":null,"metadata":{},"sourceType":"script"}