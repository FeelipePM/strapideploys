{"ast":null,"code":"\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nvar _defineProperty2 = _interopRequireDefault(require(\"@babel/runtime/helpers/defineProperty\"));\n\nvar _slicedToArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/slicedToArray\"));\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _helperPlugin = require(\"@strapi/helper-plugin\");\n\nvar _reactIntl = require(\"react-intl\");\n\nvar _Stack = require(\"@strapi/design-system/Stack\");\n\nvar _Flex = require(\"@strapi/design-system/Flex\");\n\nvar _Box = require(\"@strapi/design-system/Box\");\n\nvar _Typography = require(\"@strapi/design-system/Typography\");\n\nvar _LinkButton = require(\"@strapi/design-system/LinkButton\");\n\nvar _Button = require(\"@strapi/design-system/Button\");\n\nvar _ArrowRight = _interopRequireDefault(require(\"@strapi/icons/ArrowRight\"));\n\nvar _Stepper = _interopRequireDefault(require(\"./components/Stepper\"));\n\nvar _layout = _interopRequireDefault(require(\"../layout\"));\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { (0, _defineProperty2[\"default\"])(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\n\nvar GuidedTourHomepage = function GuidedTourHomepage() {\n  var _enrichedSections$fin;\n\n  var _useGuidedTour = (0, _helperPlugin.useGuidedTour)(),\n      guidedTourState = _useGuidedTour.guidedTourState,\n      setSkipped = _useGuidedTour.setSkipped;\n\n  var _useIntl = (0, _reactIntl.useIntl)(),\n      formatMessage = _useIntl.formatMessage;\n\n  var _useTracking = (0, _helperPlugin.useTracking)(),\n      trackUsage = _useTracking.trackUsage;\n\n  var sections = Object.entries(_layout[\"default\"]).map(function (_ref) {\n    var _ref2 = (0, _slicedToArray2[\"default\"])(_ref, 2),\n        key = _ref2[0],\n        val = _ref2[1];\n\n    return {\n      key: key,\n      title: val.home.title,\n      content: /*#__PURE__*/_react[\"default\"].createElement(_LinkButton.LinkButton, {\n        onClick: function onClick() {\n          return trackUsage(val.home.trackingEvent);\n        },\n        to: val.home.cta.target,\n        endIcon: /*#__PURE__*/_react[\"default\"].createElement(_ArrowRight[\"default\"], null)\n      }, formatMessage(val.home.cta.title))\n    };\n  });\n  var enrichedSections = sections.map(function (section) {\n    return _objectSpread({\n      isDone: Object.entries(guidedTourState[section.key]).every(function (_ref3) {\n        var _ref4 = (0, _slicedToArray2[\"default\"])(_ref3, 2),\n            value = _ref4[1];\n\n        return value;\n      })\n    }, section);\n  });\n  var activeSection = (_enrichedSections$fin = enrichedSections.find(function (section) {\n    return !section.isDone;\n  })) === null || _enrichedSections$fin === void 0 ? void 0 : _enrichedSections$fin.key;\n\n  var handleSkip = function handleSkip() {\n    setSkipped(true);\n    trackUsage('didSkipGuidedtour');\n  };\n\n  return /*#__PURE__*/_react[\"default\"].createElement(_Box.Box, {\n    hasRadius: true,\n    shadow: \"tableShadow\",\n    paddingTop: 7,\n    paddingRight: 4,\n    paddingLeft: 7,\n    paddingBottom: 4,\n    background: \"neutral0\"\n  }, /*#__PURE__*/_react[\"default\"].createElement(_Stack.Stack, {\n    spacing: 6\n  }, /*#__PURE__*/_react[\"default\"].createElement(_Typography.Typography, {\n    variant: \"beta\",\n    as: \"h2\"\n  }, formatMessage({\n    id: 'app.components.GuidedTour.title',\n    defaultMessage: '3 steps to get started'\n  })), /*#__PURE__*/_react[\"default\"].createElement(_Stepper[\"default\"], {\n    sections: sections,\n    currentSectionKey: activeSection\n  })), /*#__PURE__*/_react[\"default\"].createElement(_Flex.Flex, {\n    justifyContent: \"flex-end\"\n  }, /*#__PURE__*/_react[\"default\"].createElement(_Button.Button, {\n    variant: \"tertiary\",\n    onClick: handleSkip\n  }, formatMessage({\n    id: 'app.components.GuidedTour.skip',\n    defaultMessage: 'Skip the tour'\n  }))));\n};\n\nvar _default = GuidedTourHomepage;\nexports[\"default\"] = _default;","map":null,"metadata":{},"sourceType":"script"}