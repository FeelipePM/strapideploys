{"ast":null,"code":"\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.initialState = exports[\"default\"] = void 0;\n\nvar _defineProperty2 = _interopRequireDefault(require(\"@babel/runtime/helpers/defineProperty\"));\n\nvar _immer = _interopRequireDefault(require(\"immer\"));\n\nvar _set = _interopRequireDefault(require(\"lodash/set\"));\n\nvar _pluginId = _interopRequireDefault(require(\"../pluginId\"));\n\nvar _constants = require(\"./constants\");\n\nvar initialState = {\n  isLoading: true,\n  locales: []\n};\nexports.initialState = initialState;\nvar localeReducer = (0, _immer[\"default\"])(function () {\n  var draftState = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialState;\n  var action = arguments.length > 1 ? arguments[1] : undefined;\n\n  switch (action.type) {\n    case _constants.RESOLVE_LOCALES:\n      {\n        draftState.isLoading = false;\n        draftState.locales = action.locales;\n        break;\n      }\n\n    case _constants.ADD_LOCALE:\n      {\n        if (action.newLocale.isDefault) {\n          draftState.locales.forEach(function (locale) {\n            locale.isDefault = false;\n          });\n        }\n\n        draftState.locales.push(action.newLocale);\n        break;\n      }\n\n    case _constants.DELETE_LOCALE:\n      {\n        var locales = draftState.locales.filter(function (locale) {\n          return locale.id !== action.id;\n        });\n        (0, _set[\"default\"])(draftState, 'locales', locales);\n        break;\n      }\n\n    case _constants.UPDATE_LOCALE:\n      {\n        if (action.editedLocale.isDefault) {\n          draftState.locales.forEach(function (locale) {\n            locale.isDefault = false;\n          });\n        }\n\n        var indexToEdit = draftState.locales.findIndex(function (locale) {\n          return locale.id === action.editedLocale.id;\n        });\n        (0, _set[\"default\"])(draftState.locales, indexToEdit, action.editedLocale);\n        break;\n      }\n\n    default:\n      return draftState;\n  }\n\n  return draftState;\n});\nvar reducers = (0, _defineProperty2[\"default\"])({}, \"\".concat(_pluginId[\"default\"], \"_locales\"), localeReducer);\nvar _default = reducers;\nexports[\"default\"] = _default;","map":null,"metadata":{},"sourceType":"script"}