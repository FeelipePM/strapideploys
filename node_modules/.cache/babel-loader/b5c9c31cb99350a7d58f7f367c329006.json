{"ast":null,"code":"\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nvar _regenerator = _interopRequireDefault(require(\"@babel/runtime/regenerator\"));\n\nvar _toConsumableArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/toConsumableArray\"));\n\nvar _asyncToGenerator2 = _interopRequireDefault(require(\"@babel/runtime/helpers/asyncToGenerator\"));\n\nvar _typeof2 = _interopRequireDefault(require(\"@babel/runtime/helpers/typeof\"));\n\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime/helpers/classCallCheck\"));\n\nvar _createClass2 = _interopRequireDefault(require(\"@babel/runtime/helpers/createClass\"));\n\nvar _defineProperty2 = _interopRequireDefault(require(\"@babel/runtime/helpers/defineProperty\"));\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _reactRouterDom = require(\"react-router-dom\");\n\nvar _themes = require(\"@strapi/design-system/themes\");\n\nvar _merge = _interopRequireDefault(require(\"lodash/merge\"));\n\nvar _pick = _interopRequireDefault(require(\"lodash/pick\"));\n\nvar _isFunction = _interopRequireDefault(require(\"lodash/isFunction\"));\n\nvar _invariant = _interopRequireDefault(require(\"invariant\"));\n\nvar _reactHelmet = require(\"react-helmet\");\n\nvar _utils = require(\"./core/utils\");\n\nvar _configureStore = _interopRequireDefault(require(\"./core/store/configureStore\"));\n\nvar _apis = require(\"./core/apis\");\n\nvar _App = _interopRequireDefault(require(\"./pages/App\"));\n\nvar _logo_strapi_auth_v = _interopRequireDefault(require(\"./assets/images/logo_strapi_auth_v4.png\"));\n\nvar _logo_strapi_menu = _interopRequireDefault(require(\"./assets/images/logo_strapi_menu.png\"));\n\nvar _Providers = _interopRequireDefault(require(\"./components/Providers\"));\n\nvar _Theme = _interopRequireDefault(require(\"./components/Theme\"));\n\nvar _languageNativeNames = _interopRequireDefault(require(\"./translations/languageNativeNames\"));\n\nvar _exposedHooks = require(\"./exposedHooks\");\n\nvar _injectionZones = _interopRequireDefault(require(\"./injectionZones\"));\n\nvar _favicon = _interopRequireDefault(require(\"./favicon.ico\"));\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { (0, _defineProperty2[\"default\"])(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\n\nvar StrapiApp = /*#__PURE__*/function () {\n  function StrapiApp(_ref) {\n    var _this = this;\n\n    var adminConfig = _ref.adminConfig,\n        appPlugins = _ref.appPlugins,\n        library = _ref.library,\n        _middlewares = _ref.middlewares,\n        _reducers = _ref.reducers;\n    (0, _classCallCheck2[\"default\"])(this, StrapiApp);\n    (0, _defineProperty2[\"default\"])(this, \"addComponents\", function (components) {\n      if (Array.isArray(components)) {\n        components.map(function (compo) {\n          return _this.library.components.add(compo);\n        });\n      } else {\n        _this.library.components.add(components);\n      }\n    });\n    (0, _defineProperty2[\"default\"])(this, \"addCorePluginMenuLink\", function (link) {\n      var _link$intlLabel, _link$intlLabel2;\n\n      var stringifiedLink = JSON.stringify(link);\n      (0, _invariant[\"default\"])(link.to, \"link.to should be defined for \".concat(stringifiedLink));\n      (0, _invariant[\"default\"])(typeof link.to === 'string', \"Expected link.to to be a string instead received \".concat((0, _typeof2[\"default\"])(link.to)));\n      (0, _invariant[\"default\"])(['/plugins/content-type-builder', '/plugins/upload'].includes(link.to), 'This method is not available for your plugin');\n      (0, _invariant[\"default\"])(((_link$intlLabel = link.intlLabel) === null || _link$intlLabel === void 0 ? void 0 : _link$intlLabel.id) && ((_link$intlLabel2 = link.intlLabel) === null || _link$intlLabel2 === void 0 ? void 0 : _link$intlLabel2.defaultMessage), \"link.intlLabel.id & link.intlLabel.defaultMessage for \".concat(stringifiedLink));\n\n      _this.menu.push(link);\n    });\n    (0, _defineProperty2[\"default\"])(this, \"addFields\", function (fields) {\n      if (Array.isArray(fields)) {\n        fields.map(function (field) {\n          return _this.library.fields.add(field);\n        });\n      } else {\n        _this.library.fields.add(fields);\n      }\n    });\n    (0, _defineProperty2[\"default\"])(this, \"addMenuLink\", function (link) {\n      var _link$intlLabel3, _link$intlLabel4;\n\n      var stringifiedLink = JSON.stringify(link);\n      (0, _invariant[\"default\"])(link.to, \"link.to should be defined for \".concat(stringifiedLink));\n      (0, _invariant[\"default\"])(typeof link.to === 'string', \"Expected link.to to be a string instead received \".concat((0, _typeof2[\"default\"])(link.to)));\n      (0, _invariant[\"default\"])(((_link$intlLabel3 = link.intlLabel) === null || _link$intlLabel3 === void 0 ? void 0 : _link$intlLabel3.id) && ((_link$intlLabel4 = link.intlLabel) === null || _link$intlLabel4 === void 0 ? void 0 : _link$intlLabel4.defaultMessage), \"link.intlLabel.id & link.intlLabel.defaultMessage for \".concat(stringifiedLink));\n      (0, _invariant[\"default\"])(link.Component && typeof link.Component === 'function', \"link.Component should be a valid React Component\");\n      (0, _invariant[\"default\"])(link.icon && typeof link.icon === 'function', \"link.Icon should be a valid React Component\");\n\n      _this.menu.push(link);\n    });\n    (0, _defineProperty2[\"default\"])(this, \"addMiddlewares\", function (middlewares) {\n      middlewares.forEach(function (middleware) {\n        _this.middlewares.add(middleware);\n      });\n    });\n    (0, _defineProperty2[\"default\"])(this, \"addReducers\", function (reducers) {\n      Object.keys(reducers).forEach(function (reducerName) {\n        _this.reducers.add(reducerName, reducers[reducerName]);\n      });\n    });\n    (0, _defineProperty2[\"default\"])(this, \"addSettingsLink\", function (sectionId, link) {\n      var _link$intlLabel5, _link$intlLabel6;\n\n      (0, _invariant[\"default\"])(_this.settings[sectionId], 'The section does not exist');\n      var stringifiedLink = JSON.stringify(link);\n      (0, _invariant[\"default\"])(link.id, \"link.id should be defined for \".concat(stringifiedLink));\n      (0, _invariant[\"default\"])(((_link$intlLabel5 = link.intlLabel) === null || _link$intlLabel5 === void 0 ? void 0 : _link$intlLabel5.id) && ((_link$intlLabel6 = link.intlLabel) === null || _link$intlLabel6 === void 0 ? void 0 : _link$intlLabel6.defaultMessage), \"link.intlLabel.id & link.intlLabel.defaultMessage for \".concat(stringifiedLink));\n      (0, _invariant[\"default\"])(link.to, \"link.to should be defined for \".concat(stringifiedLink));\n      (0, _invariant[\"default\"])(link.Component && typeof link.Component === 'function', \"link.Component should be a valid React Component\");\n\n      _this.settings[sectionId].links.push(link);\n    });\n    (0, _defineProperty2[\"default\"])(this, \"addSettingsLinks\", function (sectionId, links) {\n      (0, _invariant[\"default\"])(_this.settings[sectionId], 'The section does not exist');\n      (0, _invariant[\"default\"])(Array.isArray(links), 'TypeError expected links to be an array');\n      links.forEach(function (link) {\n        _this.addSettingsLink(sectionId, link);\n      });\n    });\n    (0, _defineProperty2[\"default\"])(this, \"bootstrapAdmin\", /*#__PURE__*/(0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/_regenerator[\"default\"].mark(function _callee() {\n      return _regenerator[\"default\"].wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return _this.createCustomConfigurations();\n\n            case 2:\n              _this.createHook(_exposedHooks.INJECT_COLUMN_IN_TABLE);\n\n              _this.createHook(_exposedHooks.MUTATE_COLLECTION_TYPES_LINKS);\n\n              _this.createHook(_exposedHooks.MUTATE_SINGLE_TYPES_LINKS);\n\n              _this.createHook(_exposedHooks.MUTATE_EDIT_VIEW_LAYOUT);\n\n              return _context.abrupt(\"return\", Promise.resolve());\n\n            case 7:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    })));\n    (0, _defineProperty2[\"default\"])(this, \"createCustomConfigurations\", /*#__PURE__*/(0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/_regenerator[\"default\"].mark(function _callee2() {\n      var _this$customConfigura, _this$customConfigura3, _this$customConfigura4, _this$customConfigura5, _this$customConfigura6, _this$customConfigura7, _this$customConfigura8, _this$customConfigura9, _this$customConfigura10, _this$customConfigura11, _this$customConfigura12;\n\n      var _this$customConfigura2;\n\n      return _regenerator[\"default\"].wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              if ((_this$customConfigura = _this.customConfigurations) !== null && _this$customConfigura !== void 0 && _this$customConfigura.locales) {\n                _this.configurations.locales = ['en'].concat((0, _toConsumableArray2[\"default\"])((_this$customConfigura2 = _this.customConfigurations.locales) === null || _this$customConfigura2 === void 0 ? void 0 : _this$customConfigura2.filter(function (loc) {\n                  return loc !== 'en';\n                })));\n              }\n\n              if ((_this$customConfigura3 = _this.customConfigurations) !== null && _this$customConfigura3 !== void 0 && (_this$customConfigura4 = _this$customConfigura3.auth) !== null && _this$customConfigura4 !== void 0 && _this$customConfigura4.logo) {\n                _this.configurations.authLogo = _this.customConfigurations.auth.logo;\n              }\n\n              if ((_this$customConfigura5 = _this.customConfigurations) !== null && _this$customConfigura5 !== void 0 && (_this$customConfigura6 = _this$customConfigura5.menu) !== null && _this$customConfigura6 !== void 0 && _this$customConfigura6.logo) {\n                _this.configurations.menuLogo = _this.customConfigurations.menu.logo;\n              }\n\n              if ((_this$customConfigura7 = _this.customConfigurations) !== null && _this$customConfigura7 !== void 0 && (_this$customConfigura8 = _this$customConfigura7.head) !== null && _this$customConfigura8 !== void 0 && _this$customConfigura8.favicon) {\n                _this.configurations.head.favicon = _this.customConfigurations.head.favicon;\n              }\n\n              if ((_this$customConfigura9 = _this.customConfigurations) !== null && _this$customConfigura9 !== void 0 && _this$customConfigura9.theme) {\n                _this.configurations.theme = (0, _merge[\"default\"])(_this.configurations.theme, _this.customConfigurations.theme);\n              }\n\n              if (((_this$customConfigura10 = _this.customConfigurations) === null || _this$customConfigura10 === void 0 ? void 0 : (_this$customConfigura11 = _this$customConfigura10.notifications) === null || _this$customConfigura11 === void 0 ? void 0 : _this$customConfigura11.releases) !== undefined) {\n                _this.configurations.notifications.releases = _this.customConfigurations.notifications.releases;\n              }\n\n              if (((_this$customConfigura12 = _this.customConfigurations) === null || _this$customConfigura12 === void 0 ? void 0 : _this$customConfigura12.tutorials) !== undefined) {\n                _this.configurations.tutorials = _this.customConfigurations.tutorials;\n              }\n\n            case 7:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2);\n    })));\n    (0, _defineProperty2[\"default\"])(this, \"createHook\", function (name) {\n      _this.hooksDict[name] = (0, _utils.createHook)();\n    });\n    (0, _defineProperty2[\"default\"])(this, \"createSettingSection\", function (section, links) {\n      var _section$intlLabel, _section$intlLabel2;\n\n      (0, _invariant[\"default\"])(section.id, 'section.id should be defined');\n      (0, _invariant[\"default\"])(((_section$intlLabel = section.intlLabel) === null || _section$intlLabel === void 0 ? void 0 : _section$intlLabel.id) && ((_section$intlLabel2 = section.intlLabel) === null || _section$intlLabel2 === void 0 ? void 0 : _section$intlLabel2.defaultMessage), 'section.intlLabel should be defined');\n      (0, _invariant[\"default\"])(Array.isArray(links), 'TypeError expected links to be an array');\n      (0, _invariant[\"default\"])(_this.settings[section.id] === undefined, 'A similar section already exists');\n      _this.settings[section.id] = _objectSpread(_objectSpread({}, section), {}, {\n        links: []\n      });\n      links.forEach(function (link) {\n        _this.addSettingsLink(section.id, link);\n      });\n    });\n    (0, _defineProperty2[\"default\"])(this, \"createStore\", function () {\n      var store = (0, _configureStore[\"default\"])(_this.middlewares.middlewares, _this.reducers.reducers);\n      return store;\n    });\n    (0, _defineProperty2[\"default\"])(this, \"getAdminInjectedComponents\", function (moduleName, containerName, blockName) {\n      try {\n        return _this.admin.injectionZones[moduleName][containerName][blockName] || [];\n      } catch (err) {\n        console.error('Cannot get injected component', err);\n        return err;\n      }\n    });\n    (0, _defineProperty2[\"default\"])(this, \"getPlugin\", function (pluginId) {\n      return _this.plugins[pluginId];\n    });\n    (0, _defineProperty2[\"default\"])(this, \"injectContentManagerComponent\", function (containerName, blockName, component) {\n      var _this$admin$injection;\n\n      (0, _invariant[\"default\"])((_this$admin$injection = _this.admin.injectionZones.contentManager[containerName]) === null || _this$admin$injection === void 0 ? void 0 : _this$admin$injection[blockName], \"The \".concat(containerName, \" \").concat(blockName, \" zone is not defined in the content manager\"));\n      (0, _invariant[\"default\"])(component, 'A Component must be provided');\n\n      _this.admin.injectionZones.contentManager[containerName][blockName].push(component);\n    });\n    (0, _defineProperty2[\"default\"])(this, \"injectAdminComponent\", function (containerName, blockName, component) {\n      var _this$admin$injection2;\n\n      (0, _invariant[\"default\"])((_this$admin$injection2 = _this.admin.injectionZones.admin[containerName]) === null || _this$admin$injection2 === void 0 ? void 0 : _this$admin$injection2[blockName], \"The \".concat(containerName, \" \").concat(blockName, \" zone is not defined in the admin\"));\n      (0, _invariant[\"default\"])(component, 'A Component must be provided');\n\n      _this.admin.injectionZones.admin[containerName][blockName].push(component);\n    });\n    (0, _defineProperty2[\"default\"])(this, \"registerHook\", function (name, fn) {\n      (0, _invariant[\"default\"])(_this.hooksDict[name], \"The hook \".concat(name, \" is not defined. You are trying to register a hook that does not exist in the application.\"));\n\n      _this.hooksDict[name].register(fn);\n    });\n    (0, _defineProperty2[\"default\"])(this, \"registerPlugin\", function (pluginConf) {\n      var plugin = (0, _apis.Plugin)(pluginConf);\n      _this.plugins[plugin.pluginId] = plugin;\n    });\n    (0, _defineProperty2[\"default\"])(this, \"runHookSeries\", function (name) {\n      var asynchronous = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n      return asynchronous ? _this.hooksDict[name].runSeriesAsync() : _this.hooksDict[name].runSeries();\n    });\n    (0, _defineProperty2[\"default\"])(this, \"runHookWaterfall\", function (name, initialValue) {\n      var asynchronous = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n      var store = arguments.length > 3 ? arguments[3] : undefined;\n      return asynchronous ? _this.hooksDict[name].runWaterfallAsync(initialValue, store) : _this.hooksDict[name].runWaterfall(initialValue, store);\n    });\n    (0, _defineProperty2[\"default\"])(this, \"runHookParallel\", function (name) {\n      return _this.hooksDict[name].runParallel();\n    });\n    this.customConfigurations = adminConfig.config;\n    this.customBootstrapConfiguration = adminConfig.bootstrap;\n    this.configurations = {\n      authLogo: _logo_strapi_auth_v[\"default\"],\n      head: {\n        favicon: _favicon[\"default\"]\n      },\n      locales: ['en'],\n      menuLogo: _logo_strapi_menu[\"default\"],\n      notifications: {\n        releases: true\n      },\n      theme: _themes.lightTheme,\n      translations: {},\n      tutorials: true\n    };\n    this.appPlugins = appPlugins || {};\n    this.library = library;\n    this.middlewares = _middlewares;\n    this.plugins = {};\n    this.reducers = _reducers;\n    this.translations = {};\n    this.hooksDict = {};\n    this.admin = {\n      injectionZones: _injectionZones[\"default\"]\n    };\n    this.menu = [];\n    this.settings = {\n      global: {\n        id: 'global',\n        intlLabel: {\n          id: 'Settings.global',\n          defaultMessage: 'Global Settings'\n        },\n        links: []\n      }\n    };\n  }\n\n  (0, _createClass2[\"default\"])(StrapiApp, [{\n    key: \"bootstrap\",\n    value: function () {\n      var _bootstrap = (0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/_regenerator[\"default\"].mark(function _callee3() {\n        var _this2 = this;\n\n        return _regenerator[\"default\"].wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                Object.keys(this.appPlugins).forEach(function (plugin) {\n                  var bootstrap = _this2.appPlugins[plugin].bootstrap;\n\n                  if (bootstrap) {\n                    bootstrap({\n                      addSettingsLink: _this2.addSettingsLink,\n                      addSettingsLinks: _this2.addSettingsLinks,\n                      getPlugin: _this2.getPlugin,\n                      injectContentManagerComponent: _this2.injectContentManagerComponent,\n                      injectAdminComponent: _this2.injectAdminComponent,\n                      registerHook: _this2.registerHook\n                    });\n                  }\n                });\n\n                if ((0, _isFunction[\"default\"])(this.customBootstrapConfiguration)) {\n                  this.customBootstrapConfiguration({\n                    addComponents: this.addComponents,\n                    addFields: this.addFields,\n                    addMenuLink: this.addMenuLink,\n                    addReducers: this.addReducers,\n                    addSettingsLink: this.addSettingsLink,\n                    addSettingsLinks: this.addSettingsLinks,\n                    getPlugin: this.getPlugin,\n                    injectContentManagerComponent: this.injectContentManagerComponent,\n                    injectAdminComponent: this.injectAdminComponent,\n                    registerHook: this.registerHook\n                  });\n                }\n\n              case 2:\n              case \"end\":\n                return _context3.stop();\n            }\n          }\n        }, _callee3, this);\n      }));\n\n      function bootstrap() {\n        return _bootstrap.apply(this, arguments);\n      }\n\n      return bootstrap;\n    }()\n  }, {\n    key: \"initialize\",\n    value: function () {\n      var _initialize = (0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/_regenerator[\"default\"].mark(function _callee4() {\n        var _this3 = this;\n\n        return _regenerator[\"default\"].wrap(function _callee4$(_context4) {\n          while (1) {\n            switch (_context4.prev = _context4.next) {\n              case 0:\n                Object.keys(this.appPlugins).forEach(function (plugin) {\n                  _this3.appPlugins[plugin].register({\n                    addComponents: _this3.addComponents,\n                    addCorePluginMenuLink: _this3.addCorePluginMenuLink,\n                    addFields: _this3.addFields,\n                    addMenuLink: _this3.addMenuLink,\n                    addMiddlewares: _this3.addMiddlewares,\n                    addReducers: _this3.addReducers,\n                    createHook: _this3.createHook,\n                    createSettingSection: _this3.createSettingSection,\n                    registerPlugin: _this3.registerPlugin\n                  });\n                });\n\n              case 1:\n              case \"end\":\n                return _context4.stop();\n            }\n          }\n        }, _callee4, this);\n      }));\n\n      function initialize() {\n        return _initialize.apply(this, arguments);\n      }\n\n      return initialize;\n    }()\n  }, {\n    key: \"loadAdminTrads\",\n    value:\n    /**\n     * Load the admin translations\n     * @returns {Object} The imported admin translations\n     */\n    function () {\n      var _loadAdminTrads = (0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/_regenerator[\"default\"].mark(function _callee5() {\n        var arrayOfPromises, adminLocales, translations;\n        return _regenerator[\"default\"].wrap(function _callee5$(_context5) {\n          while (1) {\n            switch (_context5.prev = _context5.next) {\n              case 0:\n                arrayOfPromises = this.configurations.locales.map(function (locale) {\n                  return import(\n                  /* webpackChunkName: \"[request]\" */\n                  \"./translations/\".concat(locale, \".json\")).then(function (_ref4) {\n                    var data = _ref4[\"default\"];\n                    return {\n                      data: data,\n                      locale: locale\n                    };\n                  })[\"catch\"](function () {\n                    return {\n                      data: null,\n                      locale: locale\n                    };\n                  });\n                });\n                _context5.next = 3;\n                return Promise.all(arrayOfPromises);\n\n              case 3:\n                adminLocales = _context5.sent;\n                translations = adminLocales.reduce(function (acc, current) {\n                  if (current.data) {\n                    acc[current.locale] = current.data;\n                  }\n\n                  return acc;\n                }, {});\n                return _context5.abrupt(\"return\", translations);\n\n              case 6:\n              case \"end\":\n                return _context5.stop();\n            }\n          }\n        }, _callee5, this);\n      }));\n\n      function loadAdminTrads() {\n        return _loadAdminTrads.apply(this, arguments);\n      }\n\n      return loadAdminTrads;\n    }()\n    /**\n     * Load the application's translations and merged the custom translations\n     * with the default ones.\n     *\n     */\n\n  }, {\n    key: \"loadTrads\",\n    value: function () {\n      var _loadTrads = (0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/_regenerator[\"default\"].mark(function _callee6() {\n        var _this4 = this;\n\n        var adminTranslations, arrayOfPromises, pluginsTrads, mergedTrads, translations;\n        return _regenerator[\"default\"].wrap(function _callee6$(_context6) {\n          while (1) {\n            switch (_context6.prev = _context6.next) {\n              case 0:\n                _context6.next = 2;\n                return this.loadAdminTrads();\n\n              case 2:\n                adminTranslations = _context6.sent;\n                arrayOfPromises = Object.keys(this.appPlugins).map(function (plugin) {\n                  var registerTrads = _this4.appPlugins[plugin].registerTrads;\n\n                  if (registerTrads) {\n                    return registerTrads({\n                      locales: _this4.configurations.locales\n                    });\n                  }\n\n                  return null;\n                }).filter(function (a) {\n                  return a;\n                });\n                _context6.next = 6;\n                return Promise.all(arrayOfPromises);\n\n              case 6:\n                pluginsTrads = _context6.sent;\n                mergedTrads = pluginsTrads.reduce(function (acc, currentPluginTrads) {\n                  var pluginTrads = currentPluginTrads.reduce(function (acc1, current) {\n                    acc1[current.locale] = current.data;\n                    return acc1;\n                  }, {});\n                  Object.keys(pluginTrads).forEach(function (locale) {\n                    acc[locale] = _objectSpread(_objectSpread({}, acc[locale]), pluginTrads[locale]);\n                  });\n                  return acc;\n                }, {});\n                translations = this.configurations.locales.reduce(function (acc, current) {\n                  var _this4$customConfigur, _this4$customConfigur2;\n\n                  acc[current] = _objectSpread(_objectSpread(_objectSpread({}, adminTranslations[current]), mergedTrads[current] || {}), (_this4$customConfigur = _this4.customConfigurations) === null || _this4$customConfigur === void 0 ? void 0 : (_this4$customConfigur2 = _this4$customConfigur.translations) === null || _this4$customConfigur2 === void 0 ? void 0 : _this4$customConfigur2[current]);\n                  return acc;\n                }, {});\n                this.configurations.translations = translations;\n                return _context6.abrupt(\"return\", Promise.resolve());\n\n              case 11:\n              case \"end\":\n                return _context6.stop();\n            }\n          }\n        }, _callee6, this);\n      }));\n\n      function loadTrads() {\n        return _loadTrads.apply(this, arguments);\n      }\n\n      return loadTrads;\n    }()\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this5 = this;\n\n      var store = this.createStore();\n      var localeNames = (0, _pick[\"default\"])(_languageNativeNames[\"default\"], this.configurations.locales || []);\n      var _this$library = this.library,\n          components = _this$library.components.components,\n          fields = _this$library.fields.fields;\n      return /*#__PURE__*/_react[\"default\"].createElement(_Theme[\"default\"], {\n        theme: this.configurations.theme\n      }, /*#__PURE__*/_react[\"default\"].createElement(_Providers[\"default\"], {\n        authLogo: this.configurations.authLogo,\n        components: components,\n        fields: fields,\n        localeNames: localeNames,\n        getAdminInjectedComponents: this.getAdminInjectedComponents,\n        getPlugin: this.getPlugin,\n        messages: this.configurations.translations,\n        menu: this.menu,\n        menuLogo: this.configurations.menuLogo,\n        plugins: this.plugins,\n        runHookParallel: this.runHookParallel,\n        runHookWaterfall: function runHookWaterfall(name, initialValue) {\n          var async = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n          return _this5.runHookWaterfall(name, initialValue, async, store);\n        },\n        runHookSeries: this.runHookSeries,\n        settings: this.settings,\n        showTutorials: this.configurations.tutorials,\n        showReleaseNotification: this.configurations.notifications.releases,\n        store: store\n      }, /*#__PURE__*/_react[\"default\"].createElement(_react[\"default\"].Fragment, null, /*#__PURE__*/_react[\"default\"].createElement(_reactHelmet.Helmet, {\n        link: [{\n          rel: 'icon',\n          type: 'image/png',\n          href: this.configurations.head.favicon\n        }]\n      }), /*#__PURE__*/_react[\"default\"].createElement(_reactRouterDom.BrowserRouter, {\n        basename: _utils.basename\n      }, /*#__PURE__*/_react[\"default\"].createElement(_App[\"default\"], {\n        store: store\n      })))));\n    }\n  }]);\n  return StrapiApp;\n}();\n\nvar _default = function _default(_ref5) {\n  var _ref5$adminConfig = _ref5.adminConfig,\n      adminConfig = _ref5$adminConfig === void 0 ? {} : _ref5$adminConfig,\n      appPlugins = _ref5.appPlugins,\n      library = _ref5.library,\n      middlewares = _ref5.middlewares,\n      reducers = _ref5.reducers;\n  return new StrapiApp({\n    adminConfig: adminConfig,\n    appPlugins: appPlugins,\n    library: library,\n    middlewares: middlewares,\n    reducers: reducers\n  });\n};\n\nexports[\"default\"] = _default;","map":null,"metadata":{},"sourceType":"script"}