{"ast":null,"code":"\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _typeof = require(\"@babel/runtime/helpers/typeof\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nvar _defineProperty2 = _interopRequireDefault(require(\"@babel/runtime/helpers/defineProperty\"));\n\nvar _slicedToArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/slicedToArray\"));\n\nvar _react = _interopRequireWildcard(require(\"react\"));\n\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\n\nvar _helperPlugin = require(\"@strapi/helper-plugin\");\n\nvar _FormModalNavigationContext = _interopRequireDefault(require(\"../../contexts/FormModalNavigationContext\"));\n\nvar _constants = require(\"./constants\");\n\nfunction _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== \"function\") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\n\nfunction _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== \"object\" && typeof obj !== \"function\") { return { \"default\": obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj[\"default\"] = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { (0, _defineProperty2[\"default\"])(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\n\nvar FormModalNavigationProvider = function FormModalNavigationProvider(_ref) {\n  var children = _ref.children;\n\n  var _useState = (0, _react.useState)(_constants.INITIAL_STATE_DATA),\n      _useState2 = (0, _slicedToArray2[\"default\"])(_useState, 2),\n      state = _useState2[0],\n      setFormModalNavigationState = _useState2[1];\n\n  var _useTracking = (0, _helperPlugin.useTracking)(),\n      trackUsage = _useTracking.trackUsage;\n\n  var onClickSelectField = function onClickSelectField(_ref2) {\n    var attributeType = _ref2.attributeType,\n        step = _ref2.step;\n\n    if (state.forTarget === 'contentType') {\n      trackUsage('didSelectContentTypeFieldType', {\n        type: attributeType\n      });\n    }\n\n    setFormModalNavigationState(function (prevState) {\n      return _objectSpread(_objectSpread({}, prevState), {}, {\n        actionType: 'create',\n        modalType: 'attribute',\n        step: step,\n        attributeType: attributeType\n      });\n    });\n  };\n\n  var onOpenModalAddComponentsToDZ = function onOpenModalAddComponentsToDZ(_ref3) {\n    var dynamicZoneTarget = _ref3.dynamicZoneTarget,\n        targetUid = _ref3.targetUid;\n    setFormModalNavigationState(function (prevState) {\n      return _objectSpread(_objectSpread({}, prevState), {}, {\n        dynamicZoneTarget: dynamicZoneTarget,\n        targetUid: targetUid,\n        modalType: 'addComponentToDynamicZone',\n        forTarget: 'contentType',\n        step: '1',\n        actionType: 'edit',\n        isOpen: true\n      });\n    });\n  };\n\n  var onOpenModalAddField = function onOpenModalAddField(_ref4) {\n    var forTarget = _ref4.forTarget,\n        targetUid = _ref4.targetUid;\n    setFormModalNavigationState(function (prevState) {\n      return _objectSpread(_objectSpread({}, prevState), {}, {\n        actionType: 'create',\n        forTarget: forTarget,\n        targetUid: targetUid,\n        modalType: 'chooseAttribute',\n        isOpen: true\n      });\n    });\n  };\n\n  var onOpenModalCreateSchema = function onOpenModalCreateSchema(nextState) {\n    setFormModalNavigationState(function (prevState) {\n      return _objectSpread(_objectSpread(_objectSpread({}, prevState), nextState), {}, {\n        isOpen: true\n      });\n    });\n  };\n\n  var onOpenModalEditCategory = function onOpenModalEditCategory(categoryName) {\n    setFormModalNavigationState(function (prevState) {\n      return _objectSpread(_objectSpread({}, prevState), {}, {\n        categoryName: categoryName,\n        actionType: 'edit',\n        modalType: 'editCategory',\n        isOpen: true\n      });\n    });\n  };\n\n  var onOpenModalEditField = function onOpenModalEditField(_ref5) {\n    var forTarget = _ref5.forTarget,\n        targetUid = _ref5.targetUid,\n        attributeName = _ref5.attributeName,\n        attributeType = _ref5.attributeType,\n        step = _ref5.step;\n    setFormModalNavigationState(function (prevState) {\n      return _objectSpread(_objectSpread({}, prevState), {}, {\n        modalType: 'attribute',\n        actionType: 'edit',\n        forTarget: forTarget,\n        targetUid: targetUid,\n        attributeName: attributeName,\n        attributeType: attributeType,\n        step: step,\n        isOpen: true\n      });\n    });\n  };\n\n  var onOpenModalEditSchema = function onOpenModalEditSchema(_ref6) {\n    var modalType = _ref6.modalType,\n        forTarget = _ref6.forTarget,\n        targetUid = _ref6.targetUid,\n        kind = _ref6.kind;\n    setFormModalNavigationState(function (prevState) {\n      return _objectSpread(_objectSpread({}, prevState), {}, {\n        modalType: modalType,\n        actionType: 'edit',\n        forTarget: forTarget,\n        targetUid: targetUid,\n        kind: kind,\n        isOpen: true\n      });\n    });\n  };\n\n  var onCloseModal = function onCloseModal() {\n    setFormModalNavigationState(_constants.INITIAL_STATE_DATA);\n  };\n\n  var onNavigateToChooseAttributeModal = function onNavigateToChooseAttributeModal(_ref7) {\n    var forTarget = _ref7.forTarget,\n        targetUid = _ref7.targetUid;\n    setFormModalNavigationState(function (prev) {\n      return _objectSpread(_objectSpread({}, prev), {}, {\n        forTarget: forTarget,\n        targetUid: targetUid,\n        modalType: 'chooseAttribute'\n      });\n    });\n  };\n\n  var onNavigateToCreateComponentStep2 = function onNavigateToCreateComponentStep2() {\n    setFormModalNavigationState(function (prev) {\n      return _objectSpread(_objectSpread({}, prev), {}, {\n        attributeType: 'component',\n        modalType: 'attribute',\n        step: '2'\n      });\n    });\n  };\n\n  var onNavigateToAddCompoToDZModal = function onNavigateToAddCompoToDZModal(_ref8) {\n    var dynamicZoneTarget = _ref8.dynamicZoneTarget;\n    setFormModalNavigationState(function (prev) {\n      return _objectSpread(_objectSpread({}, prev), {}, {\n        dynamicZoneTarget: dynamicZoneTarget,\n        modalType: 'addComponentToDynamicZone',\n        actionType: 'create',\n        step: '1',\n        attributeType: null,\n        attributeName: null\n      });\n    });\n  };\n\n  return /*#__PURE__*/_react[\"default\"].createElement(_FormModalNavigationContext[\"default\"].Provider, {\n    value: _objectSpread(_objectSpread({}, state), {}, {\n      onClickSelectField: onClickSelectField,\n      onCloseModal: onCloseModal,\n      onNavigateToChooseAttributeModal: onNavigateToChooseAttributeModal,\n      onNavigateToAddCompoToDZModal: onNavigateToAddCompoToDZModal,\n      onOpenModalAddComponentsToDZ: onOpenModalAddComponentsToDZ,\n      onNavigateToCreateComponentStep2: onNavigateToCreateComponentStep2,\n      onOpenModalAddField: onOpenModalAddField,\n      onOpenModalCreateSchema: onOpenModalCreateSchema,\n      onOpenModalEditCategory: onOpenModalEditCategory,\n      onOpenModalEditField: onOpenModalEditField,\n      onOpenModalEditSchema: onOpenModalEditSchema,\n      setFormModalNavigationState: setFormModalNavigationState\n    })\n  }, children);\n};\n\nFormModalNavigationProvider.propTypes = {\n  children: _propTypes[\"default\"].node.isRequired\n};\nvar _default = FormModalNavigationProvider;\nexports[\"default\"] = _default;","map":null,"metadata":{},"sourceType":"script"}