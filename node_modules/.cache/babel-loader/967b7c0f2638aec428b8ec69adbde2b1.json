{"ast":null,"code":"\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _typeof = require(\"@babel/runtime/helpers/typeof\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.ExpandButton = exports.EditorLayout = void 0;\n\nvar _react = _interopRequireWildcard(require(\"react\"));\n\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\n\nvar _styledComponents = _interopRequireDefault(require(\"styled-components\"));\n\nvar _Flex = require(\"@strapi/design-system/Flex\");\n\nvar _Box = require(\"@strapi/design-system/Box\");\n\nvar _FocusTrap = require(\"@strapi/design-system/FocusTrap\");\n\nvar _Portal = require(\"@strapi/design-system/Portal\");\n\nvar _BaseButton = require(\"@strapi/design-system/BaseButton\");\n\nvar _Typography = require(\"@strapi/design-system/Typography\");\n\nvar _helperPlugin = require(\"@strapi/helper-plugin\");\n\nvar _Collapse = _interopRequireDefault(require(\"@strapi/icons/Collapse\"));\n\nvar _reactIntl = require(\"react-intl\");\n\nvar _PreviewWysiwyg = _interopRequireDefault(require(\"../PreviewWysiwyg\"));\n\nfunction _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== \"function\") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\n\nfunction _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== \"object\" && typeof obj !== \"function\") { return { \"default\": obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj[\"default\"] = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\nvar setOpacity = function setOpacity(hex, alpha) {\n  return \"\".concat(hex).concat(Math.floor(alpha * 255).toString(16).padStart(2, 0));\n};\n\nvar ExpandWrapper = /*#__PURE__*/(0, _styledComponents[\"default\"])(_Flex.Flex).withConfig({\n  displayName: \"EditorLayout__ExpandWrapper\",\n  componentId: \"sc-qmn252-0\"\n})([\"background:\", \";\"], function (_ref) {\n  var theme = _ref.theme;\n  return setOpacity(theme.colors.neutral800, 0.2);\n});\nvar BoxWithBorder = /*#__PURE__*/(0, _styledComponents[\"default\"])(_Box.Box).withConfig({\n  displayName: \"EditorLayout__BoxWithBorder\",\n  componentId: \"sc-qmn252-1\"\n})([\"border-right:1px solid \", \";\"], function (_ref2) {\n  var theme = _ref2.theme;\n  return theme.colors.neutral200;\n});\nvar ExpandButton = /*#__PURE__*/(0, _styledComponents[\"default\"])(_BaseButton.BaseButton).withConfig({\n  displayName: \"EditorLayout__ExpandButton\",\n  componentId: \"sc-qmn252-2\"\n})([\"background-color:transparent;border:none;align-items:center;svg{margin-left:\", \";path{fill:\", \";width:\", \"rem;height:\", \"rem;}}\"], function (_ref3) {\n  var theme = _ref3.theme;\n  return \"\".concat(theme.spaces[2]);\n}, function (_ref4) {\n  var theme = _ref4.theme;\n  return theme.colors.neutral700;\n}, 12 / 16, 12 / 16);\nexports.ExpandButton = ExpandButton;\n\nvar EditorLayout = function EditorLayout(_ref5) {\n  var children = _ref5.children,\n      isExpandMode = _ref5.isExpandMode,\n      error = _ref5.error,\n      previewContent = _ref5.previewContent,\n      onCollapse = _ref5.onCollapse;\n\n  var _useIntl = (0, _reactIntl.useIntl)(),\n      formatMessage = _useIntl.formatMessage;\n\n  (0, _react.useEffect)(function () {\n    var body = document.body;\n\n    if (isExpandMode) {\n      body.classList.add('lock-body-scroll');\n    }\n\n    return function () {\n      if (isExpandMode) {\n        body.classList.remove('lock-body-scroll');\n      }\n    };\n  }, [isExpandMode]);\n\n  if (isExpandMode) {\n    return /*#__PURE__*/_react[\"default\"].createElement(_Portal.Portal, {\n      role: \"dialog\",\n      \"aria-modal\": false\n    }, /*#__PURE__*/_react[\"default\"].createElement(_FocusTrap.FocusTrap, {\n      onEscape: onCollapse\n    }, /*#__PURE__*/_react[\"default\"].createElement(ExpandWrapper, {\n      position: \"fixed\",\n      top: 0,\n      left: 0,\n      right: 0,\n      bottom: 0,\n      zIndex: 4,\n      justifyContent: \"center\",\n      onClick: onCollapse\n    }, /*#__PURE__*/_react[\"default\"].createElement(_Box.Box, {\n      id: \"wysiwyg-expand\",\n      background: \"neutral0\",\n      hasRadius: true,\n      shadow: \"popupShadow\",\n      overflow: \"hidden\",\n      width: \"70%\",\n      height: \"70%\",\n      onClick: function onClick(e) {\n        return e.stopPropagation();\n      }\n    }, /*#__PURE__*/_react[\"default\"].createElement(_Flex.Flex, {\n      height: \"100%\",\n      alignItems: \"flex-start\"\n    }, /*#__PURE__*/_react[\"default\"].createElement(BoxWithBorder, {\n      flex: \"1\",\n      height: \"100%\"\n    }, children), /*#__PURE__*/_react[\"default\"].createElement(_Box.Box, {\n      flex: \"1\",\n      height: \"100%\"\n    }, /*#__PURE__*/_react[\"default\"].createElement(_Flex.Flex, {\n      height: (0, _helperPlugin.pxToRem)(48),\n      background: \"neutral100\",\n      justifyContent: \"flex-end\"\n    }, /*#__PURE__*/_react[\"default\"].createElement(ExpandButton, {\n      id: \"collapse\",\n      onClick: onCollapse\n    }, /*#__PURE__*/_react[\"default\"].createElement(_Typography.Typography, null, formatMessage({\n      id: 'components.Wysiwyg.collapse',\n      defaultMessage: 'Collapse'\n    })), /*#__PURE__*/_react[\"default\"].createElement(_Collapse[\"default\"], null))), /*#__PURE__*/_react[\"default\"].createElement(_Box.Box, {\n      position: \"relative\",\n      height: \"100%\"\n    }, /*#__PURE__*/_react[\"default\"].createElement(_PreviewWysiwyg[\"default\"], {\n      data: previewContent\n    }))))))));\n  }\n\n  return /*#__PURE__*/_react[\"default\"].createElement(_Box.Box, {\n    borderColor: error ? 'danger600' : 'neutral200',\n    borderStyle: \"solid\",\n    borderWidth: \"1px\",\n    hasRadius: true\n  }, children);\n};\n\nexports.EditorLayout = EditorLayout;\nEditorLayout.defaultProps = {\n  error: undefined,\n  previewContent: ''\n};\nEditorLayout.propTypes = {\n  children: _propTypes[\"default\"].node.isRequired,\n  error: _propTypes[\"default\"].string,\n  isExpandMode: _propTypes[\"default\"].bool.isRequired,\n  previewContent: _propTypes[\"default\"].string,\n  onCollapse: _propTypes[\"default\"].func.isRequired\n};","map":null,"metadata":{},"sourceType":"script"}