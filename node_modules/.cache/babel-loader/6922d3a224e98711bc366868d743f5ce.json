{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nvar _lodash = require(\"lodash\");\n\nvar createDefaultForm = function createDefaultForm(attributes, allComponentsSchema) {\n  return Object.keys(attributes).reduce(function (acc, current) {\n    var attribute = (0, _lodash.get)(attributes, [current], {});\n    var defaultValue = attribute[\"default\"],\n        component = attribute.component,\n        type = attribute.type,\n        required = attribute.required,\n        min = attribute.min,\n        repeatable = attribute.repeatable;\n\n    if (type === 'json') {\n      acc[current] = null;\n    }\n\n    if (type === 'json' && required === true) {\n      acc[current] = {};\n    }\n\n    if (defaultValue !== undefined) {\n      acc[current] = defaultValue;\n    }\n\n    if (type === 'component') {\n      var currentComponentSchema = (0, _lodash.get)(allComponentsSchema, [component, 'attributes'], {});\n      var currentComponentDefaultForm = createDefaultForm(currentComponentSchema, allComponentsSchema);\n\n      if (required === true) {\n        acc[current] = repeatable === true ? [] : currentComponentDefaultForm;\n      }\n\n      if (min && repeatable === true && required) {\n        acc[current] = [];\n\n        for (var i = 0; i < min; i += 1) {\n          acc[current].push(currentComponentDefaultForm);\n        }\n      }\n    }\n\n    if (type === 'dynamiczone') {\n      if (required === true) {\n        acc[current] = [];\n      }\n    }\n\n    return acc;\n  }, {});\n};\n\nvar _default = createDefaultForm;\nexports[\"default\"] = _default;","map":null,"metadata":{},"sourceType":"script"}