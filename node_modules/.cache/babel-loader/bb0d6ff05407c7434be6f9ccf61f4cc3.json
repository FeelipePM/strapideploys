{"ast":null,"code":"\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nvar _extends2 = _interopRequireDefault(require(\"@babel/runtime/helpers/extends\"));\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\n\nvar _helperPlugin = require(\"@strapi/helper-plugin\");\n\nvar _Box = require(\"@strapi/design-system/Box\");\n\nvar _Button = require(\"@strapi/design-system/Button\");\n\nvar _Typography = require(\"@strapi/design-system/Typography\");\n\nvar _Table = require(\"@strapi/design-system/Table\");\n\nvar _Plus = _interopRequireDefault(require(\"@strapi/icons/Plus\"));\n\nvar _reactIntl = require(\"react-intl\");\n\nvar _useFormModalNavigation = _interopRequireDefault(require(\"../../hooks/useFormModalNavigation\"));\n\nvar _useDataManager2 = _interopRequireDefault(require(\"../../hooks/useDataManager\"));\n\nvar _DynamicZoneList = _interopRequireDefault(require(\"../DynamicZoneList\"));\n\nvar _ComponentList = _interopRequireDefault(require(\"../ComponentList\"));\n\nvar _BoxWrapper = _interopRequireDefault(require(\"./BoxWrapper\"));\n\nvar _getTrad = _interopRequireDefault(require(\"../../utils/getTrad\"));\n\nvar _NestedTFooter = _interopRequireDefault(require(\"../NestedTFooter\"));\n\n/**\n *\n * List\n *\n */\n\n/* eslint-disable import/no-cycle */\n\n/* eslint-disable jsx-a11y/click-events-have-key-events */\n\n/* eslint-disable jsx-a11y/no-static-element-interactions */\nfunction List(_ref) {\n  var addComponentToDZ = _ref.addComponentToDZ,\n      customRowComponent = _ref.customRowComponent,\n      editTarget = _ref.editTarget,\n      firstLoopComponentUid = _ref.firstLoopComponentUid,\n      isFromDynamicZone = _ref.isFromDynamicZone,\n      isMain = _ref.isMain,\n      isNestedInDZComponent = _ref.isNestedInDZComponent,\n      isSub = _ref.isSub,\n      items = _ref.items,\n      secondLoopComponentUid = _ref.secondLoopComponentUid,\n      targetUid = _ref.targetUid;\n\n  var _useIntl = (0, _reactIntl.useIntl)(),\n      formatMessage = _useIntl.formatMessage;\n\n  var _useTracking = (0, _helperPlugin.useTracking)(),\n      trackUsage = _useTracking.trackUsage;\n\n  var _useDataManager = (0, _useDataManager2[\"default\"])(),\n      isInDevelopmentMode = _useDataManager.isInDevelopmentMode,\n      modifiedData = _useDataManager.modifiedData,\n      isInContentTypeView = _useDataManager.isInContentTypeView;\n\n  var _useFormModalNavigati = (0, _useFormModalNavigation[\"default\"])(),\n      onOpenModalAddField = _useFormModalNavigati.onOpenModalAddField;\n\n  var onClickAddField = function onClickAddField() {\n    trackUsage('hasClickedCTBAddFieldBanner');\n    onOpenModalAddField({\n      forTarget: editTarget,\n      targetUid: targetUid\n    });\n  };\n\n  if (!targetUid) {\n    return /*#__PURE__*/_react[\"default\"].createElement(_Table.Table, {\n      colCount: 2,\n      rowCount: 2\n    }, /*#__PURE__*/_react[\"default\"].createElement(_Table.Thead, null, /*#__PURE__*/_react[\"default\"].createElement(_Table.Tr, null, /*#__PURE__*/_react[\"default\"].createElement(_Table.Th, null, /*#__PURE__*/_react[\"default\"].createElement(_Typography.Typography, {\n      variant: \"sigma\",\n      textColor: \"neutral600\"\n    }, formatMessage({\n      id: 'table.headers.name',\n      defaultMessage: 'Name'\n    }))), /*#__PURE__*/_react[\"default\"].createElement(_Table.Th, null, /*#__PURE__*/_react[\"default\"].createElement(_Typography.Typography, {\n      variant: \"sigma\",\n      textColor: \"neutral600\"\n    }, formatMessage({\n      id: 'table.headers.type',\n      defaultMessage: 'Type'\n    }))))), /*#__PURE__*/_react[\"default\"].createElement(_helperPlugin.EmptyBodyTable, {\n      colSpan: 2,\n      content: {\n        id: (0, _getTrad[\"default\"])('table.content.create-first-content-type'),\n        defaultMessage: 'Create your first Collection-Type'\n      }\n    }));\n  }\n\n  if (items.length === 0 && isMain) {\n    return /*#__PURE__*/_react[\"default\"].createElement(_Table.Table, {\n      colCount: 2,\n      rowCount: 2\n    }, /*#__PURE__*/_react[\"default\"].createElement(_Table.Thead, null, /*#__PURE__*/_react[\"default\"].createElement(_Table.Tr, null, /*#__PURE__*/_react[\"default\"].createElement(_Table.Th, null, /*#__PURE__*/_react[\"default\"].createElement(_Typography.Typography, {\n      variant: \"sigma\",\n      textColor: \"neutral600\"\n    }, formatMessage({\n      id: 'table.headers.name',\n      defaultMessage: 'Name'\n    }))), /*#__PURE__*/_react[\"default\"].createElement(_Table.Th, null, /*#__PURE__*/_react[\"default\"].createElement(_Typography.Typography, {\n      variant: \"sigma\",\n      textColor: \"neutral600\"\n    }, formatMessage({\n      id: 'table.headers.type',\n      defaultMessage: 'Type'\n    }))))), /*#__PURE__*/_react[\"default\"].createElement(_helperPlugin.EmptyBodyTable, {\n      action: /*#__PURE__*/_react[\"default\"].createElement(_Button.Button, {\n        onClick: onClickAddField,\n        size: \"L\",\n        startIcon: /*#__PURE__*/_react[\"default\"].createElement(_Plus[\"default\"], null),\n        variant: \"secondary\"\n      }, formatMessage({\n        id: (0, _getTrad[\"default\"])('table.button.no-fields'),\n        defaultMessage: 'Add new field'\n      })),\n      colSpan: 2,\n      content: isInContentTypeView ? {\n        id: (0, _getTrad[\"default\"])('table.content.no-fields.collection-type'),\n        defaultMessage: 'Add your first field to this Collection-Type'\n      } : {\n        id: (0, _getTrad[\"default\"])('table.content.no-fields.component'),\n        defaultMessage: 'Add your first field to this component'\n      }\n    }));\n  }\n\n  return /*#__PURE__*/_react[\"default\"].createElement(_react[\"default\"].Fragment, null, /*#__PURE__*/_react[\"default\"].createElement(_BoxWrapper[\"default\"], null, /*#__PURE__*/_react[\"default\"].createElement(_Box.Box, (0, _extends2[\"default\"])({\n    paddingLeft: 6,\n    paddingRight: isMain ? 6 : 0\n  }, isMain && {\n    style: {\n      overflowX: 'auto'\n    }\n  }), /*#__PURE__*/_react[\"default\"].createElement(\"table\", null, isMain && /*#__PURE__*/_react[\"default\"].createElement(\"thead\", null, /*#__PURE__*/_react[\"default\"].createElement(\"tr\", null, /*#__PURE__*/_react[\"default\"].createElement(\"th\", null, /*#__PURE__*/_react[\"default\"].createElement(_Typography.Typography, {\n    variant: \"sigma\",\n    textColor: \"neutral600\"\n  }, formatMessage({\n    id: 'table.headers.name',\n    defaultMessage: 'Name'\n  }))), /*#__PURE__*/_react[\"default\"].createElement(\"th\", {\n    colSpan: \"2\"\n  }, /*#__PURE__*/_react[\"default\"].createElement(_Typography.Typography, {\n    variant: \"sigma\",\n    textColor: \"neutral600\"\n  }, formatMessage({\n    id: 'table.headers.type',\n    defaultMessage: 'Type'\n  }))))), /*#__PURE__*/_react[\"default\"].createElement(\"tbody\", null, items.map(function (item) {\n    var type = item.type;\n    var CustomRow = customRowComponent;\n    return /*#__PURE__*/_react[\"default\"].createElement(_react[\"default\"].Fragment, {\n      key: item.name\n    }, /*#__PURE__*/_react[\"default\"].createElement(CustomRow, (0, _extends2[\"default\"])({}, item, {\n      isNestedInDZComponent: isNestedInDZComponent,\n      targetUid: targetUid,\n      editTarget: editTarget,\n      firstLoopComponentUid: firstLoopComponentUid,\n      isFromDynamicZone: isFromDynamicZone,\n      secondLoopComponentUid: secondLoopComponentUid\n    })), type === 'component' && /*#__PURE__*/_react[\"default\"].createElement(_ComponentList[\"default\"], (0, _extends2[\"default\"])({}, item, {\n      customRowComponent: customRowComponent,\n      targetUid: targetUid,\n      isNestedInDZComponent: isFromDynamicZone,\n      editTarget: editTarget,\n      firstLoopComponentUid: firstLoopComponentUid\n    })), type === 'dynamiczone' && /*#__PURE__*/_react[\"default\"].createElement(_DynamicZoneList[\"default\"], (0, _extends2[\"default\"])({}, item, {\n      customRowComponent: customRowComponent,\n      addComponent: addComponentToDZ,\n      targetUid: targetUid\n    })));\n  })))), isMain && isInDevelopmentMode && /*#__PURE__*/_react[\"default\"].createElement(_Table.TFooter, {\n    icon: /*#__PURE__*/_react[\"default\"].createElement(_Plus[\"default\"], null),\n    onClick: onClickAddField\n  }, formatMessage({\n    id: (0, _getTrad[\"default\"])(\"form.button.add.field.to.\".concat(modifiedData.contentType ? modifiedData.contentType.schema.kind : editTarget || 'collectionType')),\n    defaultMessage: 'Add another field'\n  })), isSub && isInDevelopmentMode && /*#__PURE__*/_react[\"default\"].createElement(_NestedTFooter[\"default\"], {\n    icon: /*#__PURE__*/_react[\"default\"].createElement(_Plus[\"default\"], null),\n    onClick: onClickAddField,\n    color: isFromDynamicZone ? 'primary' : 'neutral'\n  }, formatMessage({\n    id: (0, _getTrad[\"default\"])(\"form.button.add.field.to.component\"),\n    defaultMessage: 'Add another field'\n  }))));\n}\n\nList.defaultProps = {\n  addComponentToDZ: function addComponentToDZ() {},\n  customRowComponent: null,\n  firstLoopComponentUid: null,\n  isFromDynamicZone: false,\n  isNestedInDZComponent: false,\n  isMain: false,\n  isSub: false,\n  items: [],\n  secondLoopComponentUid: null,\n  targetUid: null\n};\nList.propTypes = {\n  addComponentToDZ: _propTypes[\"default\"].func,\n  customRowComponent: _propTypes[\"default\"].func,\n  editTarget: _propTypes[\"default\"].string.isRequired,\n  firstLoopComponentUid: _propTypes[\"default\"].string,\n  isFromDynamicZone: _propTypes[\"default\"].bool,\n  isNestedInDZComponent: _propTypes[\"default\"].bool,\n  isMain: _propTypes[\"default\"].bool,\n  items: _propTypes[\"default\"].instanceOf(Array),\n  secondLoopComponentUid: _propTypes[\"default\"].string,\n  targetUid: _propTypes[\"default\"].string,\n  isSub: _propTypes[\"default\"].bool\n};\nvar _default = List;\nexports[\"default\"] = _default;","map":null,"metadata":{},"sourceType":"script"}