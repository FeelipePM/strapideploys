{"ast":null,"code":"\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nvar _extends2 = _interopRequireDefault(require(\"@babel/runtime/helpers/extends\"));\n\nvar _defineProperty2 = _interopRequireDefault(require(\"@babel/runtime/helpers/defineProperty\"));\n\nvar _objectWithoutProperties2 = _interopRequireDefault(require(\"@babel/runtime/helpers/objectWithoutProperties\"));\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\n\nvar _BaseCheckbox = require(\"@strapi/design-system/BaseCheckbox\");\n\nvar _Box = require(\"@strapi/design-system/Box\");\n\nvar _IconButton = require(\"@strapi/design-system/IconButton\");\n\nvar _Table = require(\"@strapi/design-system/Table\");\n\nvar _Flex = require(\"@strapi/design-system/Flex\");\n\nvar _Trash = _interopRequireDefault(require(\"@strapi/icons/Trash\"));\n\nvar _Duplicate = _interopRequireDefault(require(\"@strapi/icons/Duplicate\"));\n\nvar _Pencil = _interopRequireDefault(require(\"@strapi/icons/Pencil\"));\n\nvar _helperPlugin = require(\"@strapi/helper-plugin\");\n\nvar _reactRouterDom = require(\"react-router-dom\");\n\nvar _reactIntl = require(\"react-intl\");\n\nvar _hooks = require(\"../../../hooks\");\n\nvar _CellContent = _interopRequireDefault(require(\"../CellContent\"));\n\nvar _utils = require(\"../../../../utils\");\n\nvar _excluded = [\"key\", \"cellFormatter\", \"name\"];\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { (0, _defineProperty2[\"default\"])(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\n\nvar TableRows = function TableRows(_ref) {\n  var canCreate = _ref.canCreate,\n      canDelete = _ref.canDelete,\n      headers = _ref.headers,\n      entriesToDelete = _ref.entriesToDelete,\n      onClickDelete = _ref.onClickDelete,\n      onSelectRow = _ref.onSelectRow,\n      withMainAction = _ref.withMainAction,\n      withBulkActions = _ref.withBulkActions,\n      rows = _ref.rows;\n\n  var _useHistory = (0, _reactRouterDom.useHistory)(),\n      push = _useHistory.push,\n      pathname = _useHistory.location.pathname;\n\n  var _useIntl = (0, _reactIntl.useIntl)(),\n      formatMessage = _useIntl.formatMessage;\n\n  var _useTracking = (0, _helperPlugin.useTracking)(),\n      trackUsage = _useTracking.trackUsage;\n\n  var pluginsQueryParams = (0, _hooks.usePluginsQueryParams)();\n  return /*#__PURE__*/_react[\"default\"].createElement(_Table.Tbody, null, rows.map(function (data, index) {\n    var isChecked = entriesToDelete.findIndex(function (id) {\n      return id === data.id;\n    }) !== -1;\n    var itemLineText = formatMessage({\n      id: 'content-manager.components.DynamicTable.row-line',\n      defaultMessage: 'item line {number}'\n    }, {\n      number: index\n    });\n    return /*#__PURE__*/_react[\"default\"].createElement(_Table.Tr, (0, _extends2[\"default\"])({\n      key: data.id\n    }, (0, _helperPlugin.onRowClick)({\n      fn: function fn() {\n        trackUsage('willEditEntryFromList');\n        push({\n          pathname: \"\".concat(pathname, \"/\").concat(data.id),\n          state: {\n            from: pathname\n          },\n          search: pluginsQueryParams\n        });\n      },\n      condition: withBulkActions\n    })), withMainAction && /*#__PURE__*/_react[\"default\"].createElement(_Table.Td, _helperPlugin.stopPropagation, /*#__PURE__*/_react[\"default\"].createElement(_BaseCheckbox.BaseCheckbox, {\n      \"aria-label\": formatMessage({\n        id: 'app.component.table.select.one-entry',\n        defaultMessage: \"Select {target}\"\n      }, {\n        target: (0, _utils.getFullName)(data.firstname, data.lastname)\n      }),\n      checked: isChecked,\n      onChange: function onChange() {\n        onSelectRow({\n          name: data.id,\n          value: !isChecked\n        });\n      }\n    })), headers.map(function (_ref2) {\n      var key = _ref2.key,\n          cellFormatter = _ref2.cellFormatter,\n          name = _ref2.name,\n          rest = (0, _objectWithoutProperties2[\"default\"])(_ref2, _excluded);\n      return /*#__PURE__*/_react[\"default\"].createElement(_Table.Td, {\n        key: key\n      }, typeof cellFormatter === 'function' ? cellFormatter(data, _objectSpread({\n        key: key,\n        name: name\n      }, rest)) : /*#__PURE__*/_react[\"default\"].createElement(_CellContent[\"default\"], (0, _extends2[\"default\"])({\n        content: data[name.split('.')[0]],\n        name: name\n      }, rest, {\n        rowId: data.id\n      })));\n    }), withBulkActions && /*#__PURE__*/_react[\"default\"].createElement(_Table.Td, null, /*#__PURE__*/_react[\"default\"].createElement(_Flex.Flex, (0, _extends2[\"default\"])({\n      justifyContent: \"end\"\n    }, _helperPlugin.stopPropagation), /*#__PURE__*/_react[\"default\"].createElement(_IconButton.IconButton, {\n      onClick: function onClick() {\n        trackUsage('willEditEntryFromButton');\n        push({\n          pathname: \"\".concat(pathname, \"/\").concat(data.id),\n          state: {\n            from: pathname\n          },\n          search: pluginsQueryParams\n        });\n      },\n      label: formatMessage({\n        id: 'app.component.table.edit',\n        defaultMessage: 'Edit {target}'\n      }, {\n        target: itemLineText\n      }),\n      noBorder: true,\n      icon: /*#__PURE__*/_react[\"default\"].createElement(_Pencil[\"default\"], null)\n    }), canCreate && /*#__PURE__*/_react[\"default\"].createElement(_Box.Box, {\n      paddingLeft: 1\n    }, /*#__PURE__*/_react[\"default\"].createElement(_IconButton.IconButton, {\n      onClick: function onClick() {\n        push({\n          pathname: \"\".concat(pathname, \"/create/clone/\").concat(data.id),\n          state: {\n            from: pathname\n          },\n          search: pluginsQueryParams\n        });\n      },\n      label: formatMessage({\n        id: 'app.component.table.duplicate',\n        defaultMessage: 'Duplicate {target}'\n      }, {\n        target: itemLineText\n      }),\n      noBorder: true,\n      icon: /*#__PURE__*/_react[\"default\"].createElement(_Duplicate[\"default\"], null)\n    })), canDelete && /*#__PURE__*/_react[\"default\"].createElement(_Box.Box, {\n      paddingLeft: 1\n    }, /*#__PURE__*/_react[\"default\"].createElement(_IconButton.IconButton, {\n      onClick: function onClick() {\n        trackUsage('willDeleteEntryFromList');\n        onClickDelete(data.id);\n      },\n      label: formatMessage({\n        id: 'app.component.table.delete',\n        defaultMessage: 'Delete {target}'\n      }, {\n        target: itemLineText\n      }),\n      noBorder: true,\n      icon: /*#__PURE__*/_react[\"default\"].createElement(_Trash[\"default\"], null)\n    })))));\n  }));\n};\n\nTableRows.defaultProps = {\n  canCreate: false,\n  canDelete: false,\n  entriesToDelete: [],\n  onClickDelete: function onClickDelete() {},\n  onSelectRow: function onSelectRow() {},\n  rows: [],\n  withBulkActions: false,\n  withMainAction: false\n};\nTableRows.propTypes = {\n  canCreate: _propTypes[\"default\"].bool,\n  canDelete: _propTypes[\"default\"].bool,\n  entriesToDelete: _propTypes[\"default\"].array,\n  headers: _propTypes[\"default\"].array.isRequired,\n  onClickDelete: _propTypes[\"default\"].func,\n  onSelectRow: _propTypes[\"default\"].func,\n  rows: _propTypes[\"default\"].array,\n  withBulkActions: _propTypes[\"default\"].bool,\n  withMainAction: _propTypes[\"default\"].bool\n};\nvar _default = TableRows;\nexports[\"default\"] = _default;","map":null,"metadata":{},"sourceType":"script"}