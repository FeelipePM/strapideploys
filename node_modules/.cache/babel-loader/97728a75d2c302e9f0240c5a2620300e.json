{"ast":null,"code":"\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _regenerator = _interopRequireDefault(require(\"@babel/runtime/regenerator\"));\n\nvar _defineProperty2 = _interopRequireDefault(require(\"@babel/runtime/helpers/defineProperty\"));\n\nvar _asyncToGenerator2 = _interopRequireDefault(require(\"@babel/runtime/helpers/asyncToGenerator\"));\n\nvar _reactDom = _interopRequireDefault(require(\"react-dom\"));\n\nvar _apis = require(\"./core/apis\");\n\nvar _utils = require(\"./core/utils\");\n\nvar _app = _interopRequireDefault(require(\"./app\"));\n\nvar _plugins = _interopRequireDefault(require(\"./plugins\"));\n\nvar _reducers = _interopRequireDefault(require(\"./reducers\"));\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { (0, _defineProperty2[\"default\"])(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\n\nwindow.strapi = {\n  backendURL: process.env.STRAPI_ADMIN_BACKEND_URL,\n  isEE: false,\n  features: {\n    SSO: 'sso'\n  },\n  projectType: 'Community'\n};\nvar customConfig = _app[\"default\"];\nvar library = {\n  components: (0, _apis.Components)(),\n  fields: (0, _apis.Fields)()\n};\nvar middlewares = (0, _apis.Middlewares)();\nvar reducers = (0, _apis.Reducers)({\n  appReducers: _reducers[\"default\"]\n});\nvar MOUNT_NODE = document.getElementById('app');\n\nvar run = /*#__PURE__*/function () {\n  var _ref = (0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/_regenerator[\"default\"].mark(function _callee() {\n    var _yield$axiosInstance$, _yield$axiosInstance$2, isEE, features, StrapiApp, app;\n\n    return _regenerator[\"default\"].wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.prev = 0;\n            _context.next = 3;\n            return _utils.axiosInstance.get('/admin/project-type');\n\n          case 3:\n            _yield$axiosInstance$ = _context.sent;\n            _yield$axiosInstance$2 = _yield$axiosInstance$.data.data;\n            isEE = _yield$axiosInstance$2.isEE;\n            features = _yield$axiosInstance$2.features;\n            window.strapi.isEE = isEE;\n            window.strapi.features = _objectSpread(_objectSpread({}, window.strapi.features), {}, {\n              allFeatures: features,\n              isEnabled: function isEnabled(f) {\n                return features.includes(f);\n              }\n            });\n            window.strapi.projectType = isEE ? 'Enterprise' : 'Community';\n            _context.next = 15;\n            break;\n\n          case 12:\n            _context.prev = 12;\n            _context.t0 = _context[\"catch\"](0);\n            console.error(_context.t0);\n\n          case 15:\n            _context.next = 17;\n            return import('./StrapiApp');\n\n          case 17:\n            StrapiApp = _context.sent;\n            app = StrapiApp[\"default\"]({\n              appPlugins: _plugins[\"default\"],\n              library: library,\n              adminConfig: customConfig,\n              bootstrap: customConfig,\n              middlewares: middlewares,\n              reducers: reducers\n            });\n            _context.next = 21;\n            return app.bootstrapAdmin();\n\n          case 21:\n            _context.next = 23;\n            return app.initialize();\n\n          case 23:\n            _context.next = 25;\n            return app.bootstrap();\n\n          case 25:\n            _context.next = 27;\n            return app.loadTrads();\n\n          case 27:\n            _reactDom[\"default\"].render(app.render(), MOUNT_NODE);\n\n          case 28:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee, null, [[0, 12]]);\n  }));\n\n  return function run() {\n    return _ref.apply(this, arguments);\n  };\n}();\n\nrun();","map":null,"metadata":{},"sourceType":"script"}