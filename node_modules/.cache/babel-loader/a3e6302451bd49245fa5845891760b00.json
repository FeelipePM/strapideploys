{"ast":null,"code":"\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\n\nvar _reactIntl = require(\"react-intl\");\n\nvar _styledComponents = _interopRequireDefault(require(\"styled-components\"));\n\nvar _Box = require(\"@strapi/design-system/Box\");\n\nvar _Stack = require(\"@strapi/design-system/Stack\");\n\nvar _Typography = require(\"@strapi/design-system/Typography\");\n\nvar _Button = require(\"@strapi/design-system/Button\");\n\nvar _LinkButton = require(\"@strapi/design-system/LinkButton\");\n\nvar _Flex = require(\"@strapi/design-system/Flex\");\n\nvar _Icon = require(\"@strapi/design-system/Icon\");\n\nvar _Tooltip = require(\"@strapi/design-system/Tooltip\");\n\nvar _ExternalLink = _interopRequireDefault(require(\"@strapi/icons/ExternalLink\"));\n\nvar _Duplicate = _interopRequireDefault(require(\"@strapi/icons/Duplicate\"));\n\nvar _Check = _interopRequireDefault(require(\"@strapi/icons/Check\"));\n\nvar _CheckCircle = _interopRequireDefault(require(\"@strapi/icons/CheckCircle\"));\n\nvar _helperPlugin = require(\"@strapi/helper-plugin\");\n\nvar _reactCopyToClipboard = require(\"react-copy-to-clipboard\");\n\nvar _icon_madeByStrapi = _interopRequireDefault(require(\"../../../../assets/images/icon_made-by-strapi.svg\"));\n\n// Custom component to have an ellipsis after the 2nd line\nvar EllipsisText = /*#__PURE__*/(0, _styledComponents[\"default\"])(_Typography.Typography).withConfig({\n  displayName: \"PluginCard__EllipsisText\",\n  componentId: \"sc-1mq536v-0\"\n})([\"display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:2;overflow:hidden;\"]);\n\nvar PluginCard = function PluginCard(_ref) {\n  var plugin = _ref.plugin,\n      installedPluginNames = _ref.installedPluginNames,\n      useYarn = _ref.useYarn;\n  var attributes = plugin.attributes;\n\n  var _useIntl = (0, _reactIntl.useIntl)(),\n      formatMessage = _useIntl.formatMessage;\n\n  var toggleNotification = (0, _helperPlugin.useNotification)();\n\n  var _useTracking = (0, _helperPlugin.useTracking)(),\n      trackUsage = _useTracking.trackUsage;\n\n  var isInstalled = installedPluginNames.includes(attributes.npmPackageName);\n  var commandToCopy = useYarn ? \"yarn add \".concat(attributes.npmPackageName) : \"npm install \".concat(attributes.npmPackageName);\n  var madeByStrapiMessage = formatMessage({\n    id: 'admin.pages.MarketPlacePage.plugin.tooltip.madeByStrapi',\n    defaultMessage: 'Made by Strapi'\n  });\n  return /*#__PURE__*/_react[\"default\"].createElement(_Flex.Flex, {\n    direction: \"column\",\n    justifyContent: \"space-between\",\n    paddingTop: 4,\n    paddingRight: 6,\n    paddingBottom: 4,\n    paddingLeft: 6,\n    hasRadius: true,\n    background: \"neutral0\",\n    shadow: \"tableShadow\",\n    height: \"100%\",\n    alignItems: \"normal\"\n  }, /*#__PURE__*/_react[\"default\"].createElement(_Box.Box, null, /*#__PURE__*/_react[\"default\"].createElement(_Box.Box, {\n    as: \"img\",\n    src: attributes.logo.url,\n    alt: \"\".concat(attributes.name, \" logo\"),\n    hasRadius: true,\n    width: 11,\n    height: 11\n  }), /*#__PURE__*/_react[\"default\"].createElement(_Box.Box, {\n    paddingTop: 4\n  }, /*#__PURE__*/_react[\"default\"].createElement(_Typography.Typography, {\n    as: \"h3\",\n    variant: \"delta\"\n  }, /*#__PURE__*/_react[\"default\"].createElement(_Flex.Flex, {\n    alignItems: \"center\"\n  }, attributes.name, attributes.validated && !attributes.madeByStrapi && /*#__PURE__*/_react[\"default\"].createElement(_Tooltip.Tooltip, {\n    description: formatMessage({\n      id: 'admin.pages.MarketPlacePage.plugin.tooltip.verified',\n      defaultMessage: 'Plugin verified by Strapi'\n    })\n  }, /*#__PURE__*/_react[\"default\"].createElement(_Flex.Flex, null, /*#__PURE__*/_react[\"default\"].createElement(_Icon.Icon, {\n    as: _CheckCircle[\"default\"],\n    marginLeft: 2,\n    color: \"success600\"\n  }))), attributes.madeByStrapi && /*#__PURE__*/_react[\"default\"].createElement(_Tooltip.Tooltip, {\n    description: madeByStrapiMessage\n  }, /*#__PURE__*/_react[\"default\"].createElement(_Flex.Flex, null, /*#__PURE__*/_react[\"default\"].createElement(_Box.Box, {\n    as: \"img\",\n    src: _icon_madeByStrapi[\"default\"],\n    alt: madeByStrapiMessage,\n    marginLeft: 1,\n    width: 6,\n    height: \"auto\"\n  })))))), /*#__PURE__*/_react[\"default\"].createElement(_Box.Box, {\n    paddingTop: 2\n  }, /*#__PURE__*/_react[\"default\"].createElement(EllipsisText, {\n    as: \"p\",\n    variant: \"omega\",\n    textColor: \"neutral600\"\n  }, attributes.description))), /*#__PURE__*/_react[\"default\"].createElement(_Stack.Stack, {\n    horizontal: true,\n    spacing: 2,\n    style: {\n      alignSelf: 'flex-end'\n    },\n    paddingTop: 6\n  }, /*#__PURE__*/_react[\"default\"].createElement(_LinkButton.LinkButton, {\n    size: \"S\",\n    href: \"https://market.strapi.io/plugins/\".concat(attributes.slug),\n    endIcon: /*#__PURE__*/_react[\"default\"].createElement(_ExternalLink[\"default\"], null),\n    \"aria-label\": formatMessage({\n      id: 'admin.pages.MarketPlacePage.plugin.info.label',\n      defaultMessage: 'Learn more about {pluginName}'\n    }, {\n      pluginName: attributes.name\n    }),\n    variant: \"tertiary\",\n    onClick: function onClick() {\n      return trackUsage('didPluginLearnMore');\n    }\n  }, formatMessage({\n    id: 'admin.pages.MarketPlacePage.plugin.info.text',\n    defaultMessage: 'Learn more'\n  })), isInstalled ? /*#__PURE__*/_react[\"default\"].createElement(_Box.Box, {\n    paddingLeft: 4\n  }, /*#__PURE__*/_react[\"default\"].createElement(_Icon.Icon, {\n    as: _Check[\"default\"],\n    marginRight: 2,\n    width: 12,\n    height: 12,\n    color: \"success600\"\n  }), /*#__PURE__*/_react[\"default\"].createElement(_Typography.Typography, {\n    variant: \"omega\",\n    textColor: \"success600\",\n    fontWeight: \"bold\"\n  }, formatMessage({\n    id: 'admin.pages.MarketPlacePage.plugin.installed',\n    defaultMessage: 'Installed'\n  }))) : /*#__PURE__*/_react[\"default\"].createElement(_reactCopyToClipboard.CopyToClipboard, {\n    onCopy: function onCopy() {\n      trackUsage('willInstallPlugin');\n      toggleNotification({\n        type: 'success',\n        message: {\n          id: 'admin.pages.MarketPlacePage.plugin.copy.success'\n        }\n      });\n    },\n    text: commandToCopy\n  }, /*#__PURE__*/_react[\"default\"].createElement(_Button.Button, {\n    size: \"S\",\n    startIcon: /*#__PURE__*/_react[\"default\"].createElement(_Duplicate[\"default\"], null),\n    variant: \"secondary\"\n  }, formatMessage({\n    id: 'admin.pages.MarketPlacePage.plugin.copy',\n    defaultMessage: 'Copy install command'\n  })))));\n};\n\nPluginCard.propTypes = {\n  plugin: _propTypes[\"default\"].shape({\n    id: _propTypes[\"default\"].string.isRequired,\n    attributes: _propTypes[\"default\"].shape({\n      name: _propTypes[\"default\"].string.isRequired,\n      description: _propTypes[\"default\"].string.isRequired,\n      slug: _propTypes[\"default\"].string.isRequired,\n      npmPackageName: _propTypes[\"default\"].string.isRequired,\n      npmPackageUrl: _propTypes[\"default\"].string.isRequired,\n      repositoryUrl: _propTypes[\"default\"].string.isRequired,\n      logo: _propTypes[\"default\"].object.isRequired,\n      developerName: _propTypes[\"default\"].string.isRequired,\n      validated: _propTypes[\"default\"].bool.isRequired,\n      madeByStrapi: _propTypes[\"default\"].bool.isRequired,\n      strapiCompatibility: _propTypes[\"default\"].oneOf(['v3', 'v4']).isRequired\n    }).isRequired\n  }).isRequired,\n  installedPluginNames: _propTypes[\"default\"].arrayOf(_propTypes[\"default\"].string).isRequired,\n  useYarn: _propTypes[\"default\"].bool.isRequired\n};\nvar _default = PluginCard;\nexports[\"default\"] = _default;","map":null,"metadata":{},"sourceType":"script"}