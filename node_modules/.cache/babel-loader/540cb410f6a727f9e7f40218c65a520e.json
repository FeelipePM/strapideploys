{"ast":null,"code":"\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _typeof = require(\"@babel/runtime/helpers/typeof\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nvar _react = _interopRequireWildcard(require(\"react\"));\n\nvar _reactIntl = require(\"react-intl\");\n\nvar _helperPlugin = require(\"@strapi/helper-plugin\");\n\nvar _Box = require(\"@strapi/design-system/Box\");\n\nvar _Divider = require(\"@strapi/design-system/Divider\");\n\nvar _Typography = require(\"@strapi/design-system/Typography\");\n\nvar _Flex = require(\"@strapi/design-system/Flex\");\n\nvar _Stack = require(\"@strapi/design-system/Stack\");\n\nvar _utils = require(\"../../../utils\");\n\nvar _getUnits2 = _interopRequireDefault(require(\"./utils/getUnits\"));\n\nvar _utils2 = require(\"../../../../utils\");\n\nfunction _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== \"function\") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\n\nfunction _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== \"object\" && typeof obj !== \"function\") { return { \"default\": obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj[\"default\"] = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\nvar Informations = function Informations() {\n  var _useIntl = (0, _reactIntl.useIntl)(),\n      formatMessage = _useIntl.formatMessage,\n      formatRelativeTime = _useIntl.formatRelativeTime;\n\n  var _useCMEditViewDataMan = (0, _helperPlugin.useCMEditViewDataManager)(),\n      initialData = _useCMEditViewDataMan.initialData,\n      isCreatingEntry = _useCMEditViewDataMan.isCreatingEntry;\n\n  var currentTime = (0, _react.useRef)(Date.now());\n\n  var getFieldInfo = function getFieldInfo(atField, byField) {\n    var _initialData$byField, _initialData$byField2, _initialData$byField3;\n\n    var userFirstname = ((_initialData$byField = initialData[byField]) === null || _initialData$byField === void 0 ? void 0 : _initialData$byField.firstname) || '';\n    var userLastname = ((_initialData$byField2 = initialData[byField]) === null || _initialData$byField2 === void 0 ? void 0 : _initialData$byField2.lastname) || '';\n    var userUsername = (_initialData$byField3 = initialData[byField]) === null || _initialData$byField3 === void 0 ? void 0 : _initialData$byField3.username;\n    var user = userUsername || (0, _utils2.getFullName)(userFirstname, userLastname);\n    var timestamp = initialData[atField] ? new Date(initialData[atField]).getTime() : Date.now();\n    var elapsed = timestamp - currentTime.current;\n\n    var _getUnits = (0, _getUnits2[\"default\"])(-elapsed),\n        unit = _getUnits.unit,\n        value = _getUnits.value;\n\n    return {\n      at: formatRelativeTime(value, unit, {\n        numeric: 'auto'\n      }),\n      by: isCreatingEntry ? '-' : user\n    };\n  };\n\n  var updated = getFieldInfo('updatedAt', 'updatedBy');\n  var created = getFieldInfo('createdAt', 'createdBy');\n  return /*#__PURE__*/_react[\"default\"].createElement(_Box.Box, null, /*#__PURE__*/_react[\"default\"].createElement(_Typography.Typography, {\n    variant: \"sigma\",\n    textColor: \"neutral600\",\n    id: \"additional-informations\"\n  }, formatMessage({\n    id: (0, _utils.getTrad)('containers.Edit.information'),\n    defaultMessage: 'Information'\n  })), /*#__PURE__*/_react[\"default\"].createElement(_Box.Box, {\n    paddingTop: 2,\n    paddingBottom: 6\n  }, /*#__PURE__*/_react[\"default\"].createElement(_Divider.Divider, null)), /*#__PURE__*/_react[\"default\"].createElement(_Stack.Stack, {\n    spacing: 4\n  }, /*#__PURE__*/_react[\"default\"].createElement(_Flex.Flex, {\n    justifyContent: \"space-between\"\n  }, /*#__PURE__*/_react[\"default\"].createElement(_Typography.Typography, {\n    fontWeight: \"bold\"\n  }, formatMessage({\n    id: (0, _utils.getTrad)('containers.Edit.information.created'),\n    defaultMessage: 'Created'\n  })), /*#__PURE__*/_react[\"default\"].createElement(_Typography.Typography, null, created.at)), /*#__PURE__*/_react[\"default\"].createElement(_Flex.Flex, {\n    justifyContent: \"space-between\"\n  }, /*#__PURE__*/_react[\"default\"].createElement(_Typography.Typography, {\n    fontWeight: \"bold\"\n  }, formatMessage({\n    id: (0, _utils.getTrad)('containers.Edit.information.by'),\n    defaultMessage: 'By'\n  })), /*#__PURE__*/_react[\"default\"].createElement(_Typography.Typography, null, created.by)), /*#__PURE__*/_react[\"default\"].createElement(_Flex.Flex, {\n    justifyContent: \"space-between\"\n  }, /*#__PURE__*/_react[\"default\"].createElement(_Typography.Typography, {\n    fontWeight: \"bold\"\n  }, formatMessage({\n    id: (0, _utils.getTrad)('containers.Edit.information.lastUpdate'),\n    defaultMessage: 'Last update'\n  })), /*#__PURE__*/_react[\"default\"].createElement(_Typography.Typography, null, updated.at)), /*#__PURE__*/_react[\"default\"].createElement(_Flex.Flex, {\n    justifyContent: \"space-between\"\n  }, /*#__PURE__*/_react[\"default\"].createElement(_Typography.Typography, {\n    fontWeight: \"bold\"\n  }, formatMessage({\n    id: (0, _utils.getTrad)('containers.Edit.information.by'),\n    defaultMessage: 'By'\n  })), /*#__PURE__*/_react[\"default\"].createElement(_Typography.Typography, null, updated.by))));\n};\n\nvar _default = Informations;\nexports[\"default\"] = _default;","map":null,"metadata":{},"sourceType":"script"}