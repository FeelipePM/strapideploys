{"ast":null,"code":"\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _typeof = require(\"@babel/runtime/helpers/typeof\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.CarouselAssets = void 0;\n\nvar _slicedToArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/slicedToArray\"));\n\nvar _react = _interopRequireWildcard(require(\"react\"));\n\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\n\nvar _reactIntl = require(\"react-intl\");\n\nvar _CarouselInput = require(\"@strapi/design-system/CarouselInput\");\n\nvar _getTrad = _interopRequireDefault(require(\"../../../utils/getTrad\"));\n\nvar _constants = require(\"../../../constants\");\n\nvar _CarouselAssetActions = require(\"./CarouselAssetActions\");\n\nvar _CarouselAsset = require(\"./CarouselAsset\");\n\nvar _EmptyStateAsset = require(\"./EmptyStateAsset\");\n\nvar _EditAssetDialog = require(\"../../EditAssetDialog\");\n\nfunction _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== \"function\") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\n\nfunction _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== \"object\" && typeof obj !== \"function\") { return { \"default\": obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj[\"default\"] = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\nvar CarouselAssets = function CarouselAssets(_ref) {\n  var assets = _ref.assets,\n      disabled = _ref.disabled,\n      error = _ref.error,\n      hint = _ref.hint,\n      label = _ref.label,\n      onAddAsset = _ref.onAddAsset,\n      onDeleteAsset = _ref.onDeleteAsset,\n      onDeleteAssetFromMediaLibrary = _ref.onDeleteAssetFromMediaLibrary,\n      onDropAsset = _ref.onDropAsset,\n      onEditAsset = _ref.onEditAsset,\n      onNext = _ref.onNext,\n      onPrevious = _ref.onPrevious,\n      required = _ref.required,\n      selectedAssetIndex = _ref.selectedAssetIndex,\n      trackedLocation = _ref.trackedLocation;\n\n  var _useIntl = (0, _reactIntl.useIntl)(),\n      formatMessage = _useIntl.formatMessage;\n\n  var _useState = (0, _react.useState)(false),\n      _useState2 = (0, _slicedToArray2[\"default\"])(_useState, 2),\n      isEditingAsset = _useState2[0],\n      setIsEditingAsset = _useState2[1];\n\n  var currentAsset = assets[selectedAssetIndex];\n  return /*#__PURE__*/_react[\"default\"].createElement(_react[\"default\"].Fragment, null, /*#__PURE__*/_react[\"default\"].createElement(_CarouselInput.CarouselInput, {\n    label: label,\n    secondaryLabel: currentAsset === null || currentAsset === void 0 ? void 0 : currentAsset.name,\n    selectedSlide: selectedAssetIndex,\n    previousLabel: formatMessage({\n      id: (0, _getTrad[\"default\"])('mediaLibraryInput.actions.previousSlide'),\n      defaultMessage: 'Previous slide'\n    }),\n    nextLabel: formatMessage({\n      id: (0, _getTrad[\"default\"])('mediaLibraryInput.actions.nextSlide'),\n      defaultMessage: 'Next slide'\n    }),\n    onNext: onNext,\n    onPrevious: onPrevious,\n    hint: hint,\n    error: error,\n    required: required,\n    actions: currentAsset ? /*#__PURE__*/_react[\"default\"].createElement(_CarouselAssetActions.CarouselAssetActions, {\n      asset: currentAsset,\n      onDeleteAsset: disabled ? undefined : onDeleteAsset,\n      onDeleteAssetFromMediaLibrary: onDeleteAssetFromMediaLibrary,\n      onAddAsset: disabled ? undefined : onAddAsset,\n      onEditAsset: onEditAsset ? function () {\n        return setIsEditingAsset(true);\n      } : undefined\n    }) : undefined\n  }, assets.length === 0 ? /*#__PURE__*/_react[\"default\"].createElement(_CarouselInput.CarouselSlide, {\n    label: formatMessage({\n      id: (0, _getTrad[\"default\"])('mediaLibraryInput.slideCount'),\n      defaultMessage: '{n} of {m} slides'\n    }, {\n      n: 1,\n      m: 1\n    })\n  }, /*#__PURE__*/_react[\"default\"].createElement(_EmptyStateAsset.EmptyStateAsset, {\n    disabled: disabled,\n    onClick: onAddAsset,\n    onDropAsset: onDropAsset\n  })) : assets.map(function (asset, index) {\n    return /*#__PURE__*/_react[\"default\"].createElement(_CarouselInput.CarouselSlide, {\n      key: asset.id,\n      label: formatMessage({\n        id: (0, _getTrad[\"default\"])('mediaLibraryInput.slideCount'),\n        defaultMessage: '{n} of {m} slides'\n      }, {\n        n: index + 1,\n        m: assets.length\n      })\n    }, /*#__PURE__*/_react[\"default\"].createElement(_CarouselAsset.CarouselAsset, {\n      asset: asset\n    }));\n  })), isEditingAsset && /*#__PURE__*/_react[\"default\"].createElement(_EditAssetDialog.EditAssetDialog, {\n    onClose: function onClose(editedAsset) {\n      setIsEditingAsset(false); // The asset has been deleted\n\n      if (editedAsset === null) {\n        onDeleteAssetFromMediaLibrary();\n      }\n\n      if (editedAsset) {\n        onEditAsset(editedAsset);\n      }\n    },\n    asset: currentAsset,\n    canUpdate: true,\n    canCopyLink: true,\n    canDownload: true,\n    trackedLocation: trackedLocation\n  }));\n};\n\nexports.CarouselAssets = CarouselAssets;\nCarouselAssets.defaultProps = {\n  disabled: false,\n  error: undefined,\n  hint: undefined,\n  onDropAsset: undefined,\n  required: false,\n  trackedLocation: undefined\n};\nCarouselAssets.propTypes = {\n  assets: _propTypes[\"default\"].arrayOf(_constants.AssetDefinition).isRequired,\n  disabled: _propTypes[\"default\"].bool,\n  error: _propTypes[\"default\"].string,\n  hint: _propTypes[\"default\"].string,\n  label: _propTypes[\"default\"].string.isRequired,\n  onAddAsset: _propTypes[\"default\"].func.isRequired,\n  onDeleteAsset: _propTypes[\"default\"].func.isRequired,\n  onDeleteAssetFromMediaLibrary: _propTypes[\"default\"].func.isRequired,\n  onDropAsset: _propTypes[\"default\"].func,\n  onEditAsset: _propTypes[\"default\"].func.isRequired,\n  onNext: _propTypes[\"default\"].func.isRequired,\n  onPrevious: _propTypes[\"default\"].func.isRequired,\n  required: _propTypes[\"default\"].bool,\n  selectedAssetIndex: _propTypes[\"default\"].number.isRequired,\n  trackedLocation: _propTypes[\"default\"].string\n};","map":null,"metadata":{},"sourceType":"script"}