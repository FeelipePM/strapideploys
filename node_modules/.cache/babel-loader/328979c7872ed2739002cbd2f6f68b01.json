{"ast":null,"code":"\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nvar _extends2 = _interopRequireDefault(require(\"@babel/runtime/helpers/extends\"));\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _reactIntl = require(\"react-intl\");\n\nvar _Button = require(\"@strapi/design-system/Button\");\n\nvar _Stack = require(\"@strapi/design-system/Stack\");\n\nvar _Breadcrumbs = require(\"@strapi/design-system/Breadcrumbs\");\n\nvar _Grid = require(\"@strapi/design-system/Grid\");\n\nvar _ModalLayout = require(\"@strapi/design-system/ModalLayout\");\n\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\n\nvar _formik = require(\"formik\");\n\nvar _helperPlugin = require(\"@strapi/helper-plugin\");\n\nvar _Input = _interopRequireDefault(require(\"./Input\"));\n\n/**\n *\n * FormModal\n *\n */\nvar FormModal = function FormModal(_ref) {\n  var headerBreadcrumbs = _ref.headerBreadcrumbs,\n      initialData = _ref.initialData,\n      isSubmiting = _ref.isSubmiting,\n      layout = _ref.layout,\n      isOpen = _ref.isOpen,\n      _onSubmit = _ref.onSubmit,\n      onToggle = _ref.onToggle,\n      providerToEditName = _ref.providerToEditName;\n\n  var _useIntl = (0, _reactIntl.useIntl)(),\n      formatMessage = _useIntl.formatMessage;\n\n  if (!isOpen) {\n    return null;\n  }\n\n  return /*#__PURE__*/_react[\"default\"].createElement(_ModalLayout.ModalLayout, {\n    onClose: onToggle,\n    labelledBy: \"title\"\n  }, /*#__PURE__*/_react[\"default\"].createElement(_ModalLayout.ModalHeader, null, /*#__PURE__*/_react[\"default\"].createElement(_Breadcrumbs.Breadcrumbs, {\n    label: headerBreadcrumbs.join(', ')\n  }, headerBreadcrumbs.map(function (crumb) {\n    return /*#__PURE__*/_react[\"default\"].createElement(_Breadcrumbs.Crumb, {\n      key: crumb\n    }, crumb);\n  }))), /*#__PURE__*/_react[\"default\"].createElement(_formik.Formik, {\n    onSubmit: function onSubmit(values) {\n      return _onSubmit(values);\n    },\n    initialValues: initialData,\n    validationSchema: layout.schema,\n    validateOnChange: false\n  }, function (_ref2) {\n    var errors = _ref2.errors,\n        handleChange = _ref2.handleChange,\n        values = _ref2.values;\n    return /*#__PURE__*/_react[\"default\"].createElement(_helperPlugin.Form, null, /*#__PURE__*/_react[\"default\"].createElement(_ModalLayout.ModalBody, null, /*#__PURE__*/_react[\"default\"].createElement(_Stack.Stack, {\n      spacing: 1\n    }, /*#__PURE__*/_react[\"default\"].createElement(_Grid.Grid, {\n      gap: 5\n    }, layout.form.map(function (row) {\n      return row.map(function (input) {\n        return /*#__PURE__*/_react[\"default\"].createElement(_Grid.GridItem, {\n          key: input.name,\n          col: input.size,\n          xs: 12\n        }, /*#__PURE__*/_react[\"default\"].createElement(_Input[\"default\"], (0, _extends2[\"default\"])({}, input, {\n          error: errors[input.name],\n          onChange: handleChange,\n          value: values[input.name],\n          providerToEditName: providerToEditName\n        })));\n      });\n    })))), /*#__PURE__*/_react[\"default\"].createElement(_ModalLayout.ModalFooter, {\n      startActions: /*#__PURE__*/_react[\"default\"].createElement(_Button.Button, {\n        variant: \"tertiary\",\n        onClick: onToggle,\n        type: \"button\"\n      }, formatMessage({\n        id: 'app.components.Button.cancel',\n        defaultMessage: 'Cancel'\n      })),\n      endActions: /*#__PURE__*/_react[\"default\"].createElement(_react[\"default\"].Fragment, null, /*#__PURE__*/_react[\"default\"].createElement(_Button.Button, {\n        type: \"submit\",\n        loading: isSubmiting\n      }, formatMessage({\n        id: 'app.components.Button.save',\n        defaultMessage: 'Save'\n      })))\n    }));\n  }));\n};\n\nFormModal.defaultProps = {\n  initialData: null,\n  providerToEditName: null\n};\nFormModal.propTypes = {\n  headerBreadcrumbs: _propTypes[\"default\"].arrayOf(_propTypes[\"default\"].string).isRequired,\n  initialData: _propTypes[\"default\"].object,\n  layout: _propTypes[\"default\"].shape({\n    form: _propTypes[\"default\"].arrayOf(_propTypes[\"default\"].array),\n    schema: _propTypes[\"default\"].object\n  }).isRequired,\n  isOpen: _propTypes[\"default\"].bool.isRequired,\n  isSubmiting: _propTypes[\"default\"].bool.isRequired,\n  onSubmit: _propTypes[\"default\"].func.isRequired,\n  onToggle: _propTypes[\"default\"].func.isRequired,\n  providerToEditName: _propTypes[\"default\"].string\n};\nvar _default = FormModal;\nexports[\"default\"] = _default;","map":null,"metadata":{},"sourceType":"script"}