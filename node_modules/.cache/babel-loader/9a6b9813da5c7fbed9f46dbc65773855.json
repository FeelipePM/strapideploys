{"ast":null,"code":"\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nvar _defineProperty2 = _interopRequireDefault(require(\"@babel/runtime/helpers/defineProperty\"));\n\nvar _objectWithoutProperties2 = _interopRequireDefault(require(\"@babel/runtime/helpers/objectWithoutProperties\"));\n\nvar _lodash = require(\"lodash\");\n\nvar _excluded = [\"layouts\", \"metadatas\"];\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { (0, _defineProperty2[\"default\"])(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\n\nvar formatLayoutToApi = function formatLayoutToApi(_ref) {\n  var layouts = _ref.layouts,\n      metadatas = _ref.metadatas,\n      rest = (0, _objectWithoutProperties2[\"default\"])(_ref, _excluded);\n  var list = layouts.list.map(function (obj) {\n    if (obj.name) {\n      return obj.name;\n    }\n\n    return obj;\n  });\n  var editRelations = layouts.editRelations.map(function (_ref2) {\n    var name = _ref2.name;\n    return name;\n  });\n  var formattedMetadatas = Object.keys(metadatas).reduce(function (acc, current) {\n    var currentMetadatas = (0, _lodash.get)(metadatas, [current], {});\n    var editMetadatas = currentMetadatas.edit;\n\n    if (editMetadatas.mainField) {\n      editMetadatas = _objectSpread(_objectSpread({}, editMetadatas), {}, {\n        mainField: currentMetadatas.edit.mainField.name\n      });\n    }\n\n    return _objectSpread(_objectSpread({}, acc), {}, (0, _defineProperty2[\"default\"])({}, current, {\n      edit: editMetadatas,\n      list: (0, _lodash.omit)(currentMetadatas.list, ['mainField'])\n    }));\n  }, {});\n  var edit = layouts.edit.map(function (row) {\n    return row.map(function (_ref3) {\n      var name = _ref3.name,\n          size = _ref3.size;\n      return {\n        name: name,\n        size: size\n      };\n    });\n  });\n  return _objectSpread(_objectSpread({}, rest), {}, {\n    layouts: {\n      edit: edit,\n      editRelations: editRelations,\n      list: list\n    },\n    metadatas: formattedMetadatas\n  });\n};\n\nvar _default = formatLayoutToApi;\nexports[\"default\"] = _default;","map":null,"metadata":{},"sourceType":"script"}