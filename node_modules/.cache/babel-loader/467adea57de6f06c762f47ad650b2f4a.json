{"ast":null,"code":"\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\n\nvar _useAllowedAttributes = _interopRequireDefault(require(\"./hooks/useAllowedAttributes\"));\n\nvar _Filters = _interopRequireDefault(require(\"./Filters\"));\n\nvar AttributeFilter = function AttributeFilter(_ref) {\n  var contentType = _ref.contentType,\n      slug = _ref.slug,\n      metadatas = _ref.metadatas;\n  var allowedAttributes = (0, _useAllowedAttributes[\"default\"])(contentType, slug);\n  var displayedFilters = allowedAttributes.map(function (name) {\n    var attribute = contentType.attributes[name];\n    var type = attribute.type,\n        options = attribute[\"enum\"];\n    var trackedEvent = {\n      name: 'didFilterEntries',\n      properties: {\n        useRelation: type === 'relation'\n      }\n    };\n    var _metadatas$name$list = metadatas[name].list,\n        mainField = _metadatas$name$list.mainField,\n        label = _metadatas$name$list.label;\n    return {\n      name: name,\n      metadatas: {\n        label: label\n      },\n      fieldSchema: {\n        type: type,\n        options: options,\n        mainField: mainField\n      },\n      trackedEvent: trackedEvent\n    };\n  });\n  return /*#__PURE__*/_react[\"default\"].createElement(_Filters[\"default\"], {\n    displayedFilters: displayedFilters\n  });\n};\n\nAttributeFilter.propTypes = {\n  contentType: _propTypes[\"default\"].object.isRequired,\n  metadatas: _propTypes[\"default\"].object.isRequired,\n  slug: _propTypes[\"default\"].string.isRequired\n};\nvar _default = AttributeFilter;\nexports[\"default\"] = _default;","map":null,"metadata":{},"sourceType":"script"}