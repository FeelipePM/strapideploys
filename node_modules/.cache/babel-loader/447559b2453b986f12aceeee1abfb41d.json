{"ast":null,"code":"\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nvar _extends2 = _interopRequireDefault(require(\"@babel/runtime/helpers/extends\"));\n\nvar _slicedToArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/slicedToArray\"));\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _Typography = require(\"@strapi/design-system/Typography\");\n\nvar _Table = require(\"@strapi/design-system/Table\");\n\nvar _Flex = require(\"@strapi/design-system/Flex\");\n\nvar _helperPlugin = require(\"@strapi/helper-plugin\");\n\nvar _reactIntl = require(\"react-intl\");\n\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\n\nvar _reactRouterDom = require(\"react-router-dom\");\n\nvar _DeleteButton = _interopRequireDefault(require(\"./DeleteButton\"));\n\nvar _UpdateButton = _interopRequireDefault(require(\"./UpdateButton\"));\n\nvar TableRows = function TableRows(_ref) {\n  var canDelete = _ref.canDelete,\n      canUpdate = _ref.canUpdate,\n      _onClickDelete = _ref.onClickDelete,\n      withBulkActions = _ref.withBulkActions,\n      rows = _ref.rows;\n\n  var _useIntl = (0, _reactIntl.useIntl)(),\n      formatMessage = _useIntl.formatMessage;\n\n  var _useQueryParams = (0, _helperPlugin.useQueryParams)(),\n      _useQueryParams2 = (0, _slicedToArray2[\"default\"])(_useQueryParams, 1),\n      query = _useQueryParams2[0].query;\n\n  var _query$sort$split = query.sort.split(':'),\n      _query$sort$split2 = (0, _slicedToArray2[\"default\"])(_query$sort$split, 2),\n      sortOrder = _query$sort$split2[1];\n\n  var _useHistory = (0, _reactRouterDom.useHistory)(),\n      push = _useHistory.push,\n      pathname = _useHistory.location.pathname;\n\n  var _useTracking = (0, _helperPlugin.useTracking)(),\n      trackUsage = _useTracking.trackUsage;\n\n  var apiTokens = rows.sort(function (a, b) {\n    var comparaison = a.name.localeCompare(b.name);\n    return sortOrder === 'DESC' ? -comparaison : comparaison;\n  });\n  return /*#__PURE__*/_react[\"default\"].createElement(_Table.Tbody, null, apiTokens.map(function (apiToken) {\n    return /*#__PURE__*/_react[\"default\"].createElement(_Table.Tr, (0, _extends2[\"default\"])({\n      key: apiToken.id\n    }, (0, _helperPlugin.onRowClick)({\n      fn: function fn() {\n        trackUsage('willEditTokenFromList');\n        push(\"\".concat(pathname, \"/\").concat(apiToken.id));\n      },\n      condition: canUpdate\n    })), /*#__PURE__*/_react[\"default\"].createElement(_Table.Td, null, /*#__PURE__*/_react[\"default\"].createElement(_Typography.Typography, {\n      textColor: \"neutral800\",\n      fontWeight: \"bold\"\n    }, apiToken.name)), /*#__PURE__*/_react[\"default\"].createElement(_Table.Td, {\n      maxWidth: (0, _helperPlugin.pxToRem)(250)\n    }, /*#__PURE__*/_react[\"default\"].createElement(_Typography.Typography, {\n      textColor: \"neutral800\",\n      ellipsis: true\n    }, apiToken.description)), /*#__PURE__*/_react[\"default\"].createElement(_Table.Td, null, /*#__PURE__*/_react[\"default\"].createElement(_Typography.Typography, {\n      textColor: \"neutral800\"\n    }, formatMessage({\n      id: \"Settings.apiTokens.types.\".concat(apiToken.type),\n      defaultMessage: 'Type unknown'\n    }))), /*#__PURE__*/_react[\"default\"].createElement(_Table.Td, null, /*#__PURE__*/_react[\"default\"].createElement(_Typography.Typography, {\n      textColor: \"neutral800\"\n    }, /*#__PURE__*/_react[\"default\"].createElement(_helperPlugin.RelativeTime, {\n      timestamp: new Date(apiToken.createdAt)\n    }))), withBulkActions && /*#__PURE__*/_react[\"default\"].createElement(_Table.Td, null, /*#__PURE__*/_react[\"default\"].createElement(_Flex.Flex, {\n      justifyContent: \"end\"\n    }, canUpdate && /*#__PURE__*/_react[\"default\"].createElement(_UpdateButton[\"default\"], {\n      tokenName: apiToken.name,\n      tokenId: apiToken.id\n    }), canDelete && /*#__PURE__*/_react[\"default\"].createElement(_DeleteButton[\"default\"], {\n      tokenName: apiToken.name,\n      onClickDelete: function onClickDelete() {\n        return _onClickDelete(apiToken.id);\n      }\n    }))));\n  }));\n};\n\nTableRows.defaultProps = {\n  canDelete: false,\n  canUpdate: false,\n  onClickDelete: function onClickDelete() {},\n  rows: [],\n  withBulkActions: false\n};\nTableRows.propTypes = {\n  canDelete: _propTypes[\"default\"].bool,\n  canUpdate: _propTypes[\"default\"].bool,\n  onClickDelete: _propTypes[\"default\"].func,\n  rows: _propTypes[\"default\"].array,\n  withBulkActions: _propTypes[\"default\"].bool\n};\nvar _default = TableRows;\nexports[\"default\"] = _default;","map":null,"metadata":{},"sourceType":"script"}